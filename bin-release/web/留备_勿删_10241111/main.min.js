var Gameing=function(t){function e(e,i,s){t.call(this),this._resoucePrefix="game_",this.allTimers=60,this.allScores=0,this._iW=e,this._iH=i,this._scaleRate=s,this.addEventListener(egret.Event.ADDED_TO_STAGE,this.onAddToStage,this)}__extends(e,t);var i=(__define,e);return p=i.prototype,p.onAddToStage=function(){this.addMainGameSrceen(),this.addTimeBar(),this.addBtns(),this.introTimeBar(),this.checkTimer=new egret.Timer(1e3,0),this.checkTimer.addEventListener(egret.TimerEvent.TIMER,this.minusTimer,this),this.addEventListener("disableBtns",this.disableBtns,this),this.addEventListener("enableBtns",this.enableBtns,this),this.addEventListener("doMinusTime",this.startCheckTime,this),this.addEventListener("reDoMinusTime",this.reStartCheckTime,this),this.addEventListener("doMinus10Time",this.minus10Timer,this),this.addEventListener("doAdd5Time",this.add5Timer,this),this.addEventListener("add200Score",this.addScore200,this),this.addEventListener("add400Score",this.addScore400,this),this.addEventListener("gamePauseResume",this.pauseResume,this)},p.getTimerMaskW=function(){return this.allTimers>56?503:this.allTimers<=56&&this.allTimers>53?481:this.allTimers<=53&&this.allTimers>50?454:this.allTimers<=50&&this.allTimers>47?427:this.allTimers<=47&&this.allTimers>44?400:this.allTimers<=44&&this.allTimers>41?373:this.allTimers<=41&&this.allTimers>38?346:this.allTimers<=38&&this.allTimers>35?319:this.allTimers<=35&&this.allTimers>32?292:this.allTimers<=32&&this.allTimers>29?265:this.allTimers<=29&&this.allTimers>26?238:this.allTimers<=26&&this.allTimers>23?211:this.allTimers<=23&&this.allTimers>20?184:this.allTimers<=20&&this.allTimers>17?157:this.allTimers<=17&&this.allTimers>14?130:this.allTimers<=14&&this.allTimers>11?103:this.allTimers<=11&&this.allTimers>8?76:this.allTimers<=8&&this.allTimers>5?49:this.allTimers<=5&&this.allTimers>0?22:0==this.allTimers?0:void 0},p.warningTime=function(){egret.Tween.get(this.timeBarHaveTime,{loop:!0}).to({alpha:.5},150).to({alpha:1},150)},p.addMainGameSrceen=function(){this.mainGameScreen=new MainGameingScreen(this._iW,this._iH,this._scaleRate),this.addChild(this.mainGameScreen)},p.addTimeBar=function(){this.timeBar=new egret.Sprite,this.timeBar.name="timeBar",this.timeBar.scaleX=this.timeBar.scaleY=this._scaleRate,this.addChild(this.timeBar),this.scoreBar=new egret.Sprite,this.scoreBar.name="scoreBar",this.scoreBarBg=new egret.Bitmap(RES.getRes(this._resoucePrefix+"scoreBar")),this.scoreBar.addChild(this.scoreBarBg),this.scoreBar.anchorOffsetY=this.scoreBar.height,this.scoreBar.x=100,this.scoreBar.y=112+this.scoreBar.height,this.scoreText=new egret.TextField,this.scoreText.fontFamily="Arial",this.scoreText.bold=!0,this.scoreText.textColor=16777215,this.scoreText.size=54,this.scoreText.stroke=3,this.scoreText.strokeColor=7482,this.scoreText.x=150,this.scoreText.y=28,this.scoreText.text="000,000,00",this.scoreBar.addChild(this.scoreText),this.scoreBar.rotation=60,this.scoreBar.alpha=0,this.timeBar.addChild(this.scoreBar),this.timeBarPart=new egret.Bitmap(RES.getRes(this._resoucePrefix+"timeBarPart")),this.timeBarPart.x=74,this.timeBarPart.y=110,this.timeBarPart.rotation=180,this.timeBarPart.alpha=0,this.timeBar.addChild(this.timeBarPart),this.timeBarBg=new egret.Bitmap(RES.getRes(this._resoucePrefix+"timeBarBg")),this.timeBarBg.x=54,this.timeBarBg.y=26,this.timeBarBg.alpha=0,this.timeBar.addChild(this.timeBarBg),this.timeBarHaveTime=new egret.Bitmap(RES.getRes(this._resoucePrefix+"timeBarTime")),this.timeBarHaveTime.x=54,this.timeBarHaveTime.y=6,this.timeBar.addChild(this.timeBarHaveTime),this.timeBarHaveTimeMask=new egret.Shape,this.timeBarHaveTimeMask.graphics.beginFill(16711680),this.timeBarHaveTimeMask.graphics.drawRect(this.timeBarHaveTime.x+14,this.timeBarHaveTime.y,this.timeBarHaveTime.width-28,this.timeBarHaveTime.height),this.timeBarHaveTimeMask.graphics.endFill(),this.timeBarHaveTimeMask.anchorOffsetX=this.timeBarHaveTime.x+14,this.timeBarHaveTimeMask.x=this.timeBarHaveTime.x+14,this.timeBarHaveTimeMask.scaleX=0,this.timeBar.addChild(this.timeBarHaveTimeMask),this.timeBarHaveTime.mask=this.timeBarHaveTimeMask},p.addBtns=function(){this.btnBar=new egret.Sprite,this.btnBar.name="btnBar",this.btnBar.anchorOffsetY=58,this.btnBar.scaleX=this.btnBar.scaleY=this._scaleRate,this.btnBar.y=this._iH,this.addChild(this.btnBar),this.blackBg=new egret.Shape,this.blackBg.graphics.beginFill(0),this.blackBg.graphics.drawRect(0,0,640,58),this.blackBg.graphics.endFill(),this.blackBg.y=262*this._scaleRate,this.btnBar.addChild(this.blackBg),this.restartBtn=new egret.Bitmap,this.restartBtn.texture=RES.getRes(this._resoucePrefix+"btnRestart_Init"),this.restartBtn.x=-34,this.restartBtn.y=-84,this.btnBar.addChild(this.restartBtn),this.ruleBtn=new egret.Bitmap,this.ruleBtn.texture=RES.getRes(this._resoucePrefix+"btnRule_Init"),this.ruleBtn.x=246,this.ruleBtn.y=-84,this.btnBar.addChild(this.ruleBtn),this.cancelBtn=new egret.Bitmap,this.cancelBtn.texture=RES.getRes(this._resoucePrefix+"btnCancel_Init"),this.cancelBtn.x=190,this.cancelBtn.y=-110+262*this._scaleRate,this.btnBar.addChild(this.cancelBtn),this.restartBtnMask=new egret.Shape,this.restartBtnMask.graphics.beginFill(16711680),this.restartBtnMask.graphics.drawRect(this.restartBtn.x,this.restartBtn.y,this.cancelBtn.x+.5*this.cancelBtn.width-this.restartBtn.x,this.restartBtn.height),this.restartBtnMask.graphics.endFill(),this.btnBar.addChild(this.restartBtnMask),this.restartBtn.mask=this.restartBtnMask,this.restartBtn.x+=this.restartBtn.width,this.ruleBtnMask=new egret.Shape,this.ruleBtnMask.graphics.beginFill(16711680),this.ruleBtnMask.graphics.drawRect(this.cancelBtn.x+.5*this.cancelBtn.width,this.ruleBtn.y,this.ruleBtn.x+this.ruleBtn.width,this.ruleBtn.height),this.ruleBtnMask.graphics.endFill(),this.btnBar.addChild(this.ruleBtnMask),this.ruleBtn.mask=this.ruleBtnMask,this.ruleBtn.x-=this.ruleBtn.width,this.ruleBtn.addEventListener(egret.TouchEvent.TOUCH_BEGIN,this.overRuleBtn,this),this.ruleBtn.addEventListener(egret.TouchEvent.TOUCH_END,this.outRuleBtn,this),this.ruleBtn.addEventListener(egret.TouchEvent.TOUCH_TAP,this.pauseGame,this),this.restartBtn.addEventListener(egret.TouchEvent.TOUCH_BEGIN,this.overRestartBtn,this),this.restartBtn.addEventListener(egret.TouchEvent.TOUCH_END,this.outRestartBtn,this),this.restartBtn.addEventListener(egret.TouchEvent.TOUCH_TAP,this.restartGame,this),this.cancelBtn.addEventListener(egret.TouchEvent.TOUCH_BEGIN,this.overCancelBtn,this),this.cancelBtn.addEventListener(egret.TouchEvent.TOUCH_END,this.outCancelBtn,this),this.cancelBtn.addEventListener(egret.TouchEvent.TOUCH_TAP,this.finishGame,this)},p.overRestartBtn=function(t){t.currentTarget.texture=RES.getRes(this._resoucePrefix+"btnRestart_Over")},p.outRestartBtn=function(t){t.currentTarget.texture=RES.getRes(this._resoucePrefix+"btnRestart_Init")},p.overRuleBtn=function(t){t.currentTarget.texture=RES.getRes(this._resoucePrefix+"btnRule_Over")},p.outRuleBtn=function(t){t.currentTarget.texture=RES.getRes(this._resoucePrefix+"btnRule_Init")},p.overCancelBtn=function(t){t.currentTarget.texture=RES.getRes(this._resoucePrefix+"btnCancel_Over")},p.outCancelBtn=function(t){t.currentTarget.texture=RES.getRes(this._resoucePrefix+"btnCancel_Init")},p.introTimeBar=function(){function t(){function t(){egret.Tween.get(this.scoreBar).to({rotation:0,alpha:1},250,egret.Ease.backOut).call(this.introBtnsBar,this)}egret.Tween.get(this.timeBarHaveTime.mask).to({scaleX:1},750,egret.Ease.bounceOut),egret.Tween.get(this.timeBarPart).wait(200).to({rotation:0,alpha:1},350,egret.Ease.backOut).call(t,this)}egret.Tween.get(this.timeBarBg).to({y:6,alpha:1},500,egret.Ease.cubicInOut).call(t,this)},p.introBtnsBar=function(){function t(){function t(){this.restartBtn.mask=null,this.btnBar.removeChild(this.restartBtnMask),this.restartBtnMask=null}function e(){this.ruleBtn.mask=null,this.btnBar.removeChild(this.ruleBtnMask),this.ruleBtnMask=null,this.mainGameScreen.newGame()}egret.Tween.get(this.restartBtn).to({x:-34},750,egret.Ease.bounceOut).call(t,this),egret.Tween.get(this.ruleBtn).wait(200).to({x:246},750,egret.Ease.bounceOut).call(e,this)}egret.Tween.get(this.blackBg).to({y:0},500,egret.Ease.cubicInOut),egret.Tween.get(this.cancelBtn).to({y:-110},500,egret.Ease.cubicInOut).call(t,this)},p.minusTimer=function(){this.allTimers-=1,this.allTimers<0&&(this.allTimers=0),egret.Tween.removeTweens(this.timeBarHaveTime),this.allTimers<=20&&this.warningTime(),0==this.allTimers&&this.finishGame(),this.timeBarHaveTimeMask.scaleX=this.getTimerMaskW()/503},p.disableBtns=function(t){void 0===t&&(t=null),this.cancelBtn.touchEnabled=!1,this.restartBtn.touchEnabled=!1,this.ruleBtn.touchEnabled=!1},p.enableBtns=function(t){void 0===t&&(t=null),this.cancelBtn.touchEnabled=!0,this.restartBtn.touchEnabled=!0,this.ruleBtn.touchEnabled=!0},p.startCheckTime=function(t){void 0===t&&(t=null),this.checkTimer.start()},p.reStartCheckTime=function(t){void 0===t&&(t=null),this.checkTimer.reset(),this.checkTimer.start()},p.minus10Timer=function(t){void 0===t&&(t=null),this.allTimers-=10,this.allTimers<0&&(this.allTimers=0),egret.Tween.removeTweens(this.timeBarHaveTime),this.allTimers<=20&&this.warningTime(),0==this.allTimers&&this.finishGame(),this.timeBarHaveTimeMask.scaleX=this.getTimerMaskW()/503},p.add5Timer=function(t){void 0===t&&(t=null),this.allTimers+=5,this.allTimers>60&&(this.allTimers=60),egret.Tween.removeTweens(this.timeBarHaveTime),this.allTimers<=20&&this.warningTime(),0==this.allTimers&&this.finishGame(),this.timeBarHaveTimeMask.scaleX=this.getTimerMaskW()/503},p.addScore200=function(t){switch(void 0===t&&(t=null),this.allScores+=200,String(this.allScores).length){case 3:this.scoreText.text="000,00"+String(this.allScores).substring(0,1)+",00";break;case 4:this.scoreText.text="000,0"+String(this.allScores).substring(0,2)+",00";break;case 5:this.scoreText.text="000,"+String(this.allScores).substring(0,3)+",00";break;case 6:this.scoreText.text="00"+String(this.allScores).substring(0,1)+","+String(this.allScores).substring(1,3)+",00";break;case 7:this.scoreText.text="0"+String(this.allScores).substring(0,2)+","+String(this.allScores).substring(2,3)+",00";break;case 8:this.scoreText.text=String(this.allScores).substring(0,3)+","+String(this.allScores).substring(3,3)+",00"}},p.addScore400=function(t){switch(void 0===t&&(t=null),this.allScores+=400,String(this.allScores).length){case 3:this.scoreText.text="000,00"+String(this.allScores).substring(0,1)+",00";break;case 4:this.scoreText.text="000,0"+String(this.allScores).substring(0,2)+",00";break;case 5:this.scoreText.text="000,"+String(this.allScores).substring(0,3)+",00";break;case 6:this.scoreText.text="00"+String(this.allScores).substring(0,1)+","+String(this.allScores).substring(1,3)+",00";break;case 7:this.scoreText.text="0"+String(this.allScores).substring(0,2)+","+String(this.allScores).substring(2,3)+",00";break;case 8:this.scoreText.text=String(this.allScores).substring(0,3)+","+String(this.allScores).substring(3,3)+",00"}},p.restartGame=function(t){function e(){ClickEvent("SHCrarus", "SHCrarus/rarus_Play_play_again_Click", "Click");this.mainGameScreen.restartGame()}void 0===t&&(t=null),egret.Tween.removeTweens(this.timeBarHaveTime),this.timeBarHaveTime.alpha=1,this.checkTimer.stop(),this.mainGameScreen.stopGame(),this.allTimers=60,this.allScores=0,this.scoreText.text="000,000,00",egret.Tween.get(this.timeBarHaveTime.mask).to({scaleX:1},750,egret.Ease.bounceOut).call(e,this)},p.pauseGame=function(t){ClickEvent("SHCrarus", "SHCrarus/rarus_Play_game_rules_Click", "Click");void 0===t&&(t=null),this.checkTimer.stop(),this.mainGameScreen.pauseGame(),this.dispatchEvent(new egret.Event("showRule",!0))},p.pauseResume=function(){egret.setTimeout(function(){this.checkTimer.start()},this,4e3),this.mainGameScreen.resumeGame()},p.finishGame=function(t){ClickEvent("SHCrarus", "SHCrarus/rarus_Play_give_up_Click", "Click");void 0===t&&(t=null),this.checkTimer.stop(),this.mainGameScreen.stopGame(),this.dispatchEvent(new egret.Event("showSuccess",!0))},e}(egret.Sprite);egret.registerClass(Gameing,"Gameing");var GameRule=function(t){function e(e,i,s){t.call(this),this._resoucePrefix="rule_",this._iW=e,this._iH=i,this._scaleRate=s,this.addEventListener(egret.Event.ADDED_TO_STAGE,this.onAddToStage,this),this.addEventListener(egret.Event.REMOVED_FROM_STAGE,this.removeFromStage,this)}__extends(e,t);var i=(__define,e);return p=i.prototype,p.onAddToStage=function(){this.addBlackBg(),this.addRule()},p.removeFromStage=function(){this.removeChild(this.alphaBlack),this.alphaBlack=null,this.ruleCT.removeChild(this.ruleBg),this.ruleBg=null,this.txtScroll.removeEventListener(egret.Event.ENTER_FRAME,this.onEnterFrameTop,this),this.txtScroll.setContent(null),this.ruleCT.removeChild(this.txtScroll),this.txtScroll=null,this.ruleTxt=null,this.ruleCT.removeChild(this.ruleBanMask),this.ruleBanMask=null,this.ruleCT.removeChild(this.ruleBan),this.ruleBan=null,this.ruleCT.removeChild(this.ruleClose),this.ruleClose=null,this.removeChild(this.ruleCT),this.ruleCT=null},p.addBlackBg=function(){this.alphaBlack=new egret.Shape,this.alphaBlack.graphics.beginFill(0),this.alphaBlack.graphics.drawRect(0,0,this._iW,this._iH),this.alphaBlack.graphics.endFill(),this.alphaBlack.alpha=.9,this.addChild(this.alphaBlack),this.alphaBlack.touchEnabled=!0},p.addRule=function(){this.ruleCT=new egret.Sprite,this.ruleCT.x=64*this._scaleRate,this.ruleCT.y=this._iH,this.ruleCT.scaleX=this.ruleCT.scaleY=this._scaleRate,this.addChild(this.ruleCT),this.ruleBg=new egret.Bitmap(RES.getRes(this._resoucePrefix+"bg")),this.ruleCT.addChild(this.ruleBg),this.ruleTxt=new egret.Bitmap(RES.getRes(this._resoucePrefix+"txt")),this.txtScroll=new egret.ScrollView(this.ruleTxt),this.txtScroll.y=50,this.txtScroll.height=758,this.ruleCT.addChild(this.txtScroll),this.ruleBan=new egret.Bitmap(RES.getRes(this._resoucePrefix+"ban")),this.ruleBan.x=452,this.ruleCT.addChild(this.ruleBan),this.ruleBanMask=new egret.Shape,this.ruleBanMask.graphics.beginFill(16711680),this.ruleBanMask.graphics.drawRect(452,e.banTop,30,692),this.ruleBanMask.graphics.endFill(),this.ruleCT.addChild(this.ruleBanMask),this.ruleBan.mask=this.ruleBanMask,this.txtScroll.addEventListener(egret.Event.ENTER_FRAME,this.onEnterFrameTop,this),this.ruleClose=new egret.Bitmap(RES.getRes(this._resoucePrefix+"close")),this.ruleClose.anchorOffsetX=this.ruleClose.width,this.ruleClose.x=508,this.ruleClose.y=2,this.ruleCT.addChild(this.ruleClose),this.ruleClose.touchEnabled=!0,this.ruleClose.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onClose,this),this.introAnim()},p.onEnterFrameTop=function(t){this.ruleBan.y=t.currentTarget.scrollTop*((e.banBottom-e.banTop)/244)+e.banTop},p.onClose=function(){egret.Tween.get(this.ruleCT).to({y:this._iH},350,egret.Ease.cubicInOut).call(function(){this.dispatchEvent(new egret.Event("hideRule",!0))},this)},p.introAnim=function(){egret.Tween.get(this.ruleCT).to({y:.5*(this._iH-this._scaleRate*this.ruleBg.height)},350,egret.Ease.cubicInOut)},e.banTop=98,e.banBottom=606,e}(egret.Sprite);egret.registerClass(GameRule,"GameRule");var GameSignUp=function(t){function e(e,i,s,n){t.call(this),this._resoucePrefix="signup_",this.companyTypeArray=["设备制造商","设备用户","贸易商","设备维护/服务公司","其他"],this.companyTypeAreaArray=["风电行业","电力行业","矿山行业","油气勘探开发","机加工行业","工程机械行业","钢铁行业","水泥行业","造纸行业","塑料行业","食品行业","其他"],this.userId="",this.userName="",this.compName="",this.compType="",this.compArea="",this.userEmail="",this.userPhone="",this.allowEmail="1",this.userScore="",this.sendScoreUrl="ajax.php?flg=1",this._iW=e,this._iH=i,this._scaleRate=s,this.userScore=n,this.addEventListener(egret.Event.ADDED_TO_STAGE,this.onAddToStage,this),this.removeEventListener(egret.Event.REMOVED_FROM_STAGE,this.removeFromStage,this)}__extends(e,t);var i=(__define,e);return p=i.prototype,p.onAddToStage=function(){this.addBlackBg(),this.addTitle(),this.addBtns(),this.addFormObjects()},p.removeFromStage=function(){this.removeChild(this.alphaBlack),this.alphaBlack=null,this.topTitleContainer.removeChild(this.topTitle),this.topTitle=null,this.removeChild(this.topTitleContainer),this.topTitleContainer=null,this.formContainer.removeChildren(),this.removeChild(this.formContainer),this.formContainer=null,this.btnContainer.removeChildren(),this.removeChild(this.btnContainer),this.btnContainer=null},p.addBlackBg=function(){this.alphaBlack=new egret.Shape,this.alphaBlack.graphics.beginFill(0),this.alphaBlack.graphics.drawRect(0,0,this._iW,this._iH),this.alphaBlack.graphics.endFill(),this.alphaBlack.alpha=.9,this.addChild(this.alphaBlack),this.alphaBlack.touchEnabled=!0},p.addTitle=function(){this.topTitleContainer=new egret.DisplayObjectContainer,this.topTitleContainer.scaleX=this.topTitleContainer.scaleY=this._scaleRate,this.addChild(this.topTitleContainer),this.topTitle=new egret.Bitmap(RES.getRes(this._resoucePrefix+"top")),this.topTitle.y=6,this.topTitleContainer.addChild(this.topTitle)},p.addBtns=function(){function t(t){t.currentTarget.texture=RES.getRes(this._resoucePrefix+"back_Over")}function e(t){t.currentTarget.texture=RES.getRes(this._resoucePrefix+"back_Init")}function i(t){t.currentTarget.texture=RES.getRes(this._resoucePrefix+"Over")}function s(t){t.currentTarget.texture=RES.getRes(this._resoucePrefix+"Init")}this.btnContainer=new egret.Sprite,this.btnContainer.scaleX=this.btnContainer.scaleY=this._scaleRate,this.btnContainer.y=this._iH,this.addChild(this.btnContainer),this.backBtn=new egret.Bitmap(RES.getRes(this._resoucePrefix+"back_Init")),this.backBtn.x=12,this.backBtn.y=-190,this.btnContainer.addChild(this.backBtn),this.backBtn.touchEnabled=!0,this.backBtn.addEventListener(egret.TouchEvent.TOUCH_BEGIN,t,this),this.backBtn.addEventListener(egret.TouchEvent.TOUCH_END,e,this),this.backBtn.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onBackTap,this),this.signBtn=new egret.Bitmap(RES.getRes(this._resoucePrefix+"Init")),this.signBtn.x=302,this.signBtn.y=-168,this.btnContainer.addChild(this.signBtn),this.signBtn.touchEnabled=!0,this.signBtn.addEventListener(egret.TouchEvent.TOUCH_BEGIN,i,this),this.signBtn.addEventListener(egret.TouchEvent.TOUCH_END,s,this),this.signBtn.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onSignTap,this),this.signInfo=new egret.TextField,this.signInfo.fontFamily="SimHei",this.signInfo.textColor=8224125,this.signInfo.size=21,this.signInfo.lineSpacing=9,this.signInfo.text="*埃克森美孚工业润滑油市场部保留最终解释权\n*奖品以实物为准",this.signInfo.x=90,this.signInfo.y=-62,this.btnContainer.addChild(this.signInfo)},p.onBackTap=function(){ClickEvent("SHCrarus", "SHCrarus/rarus_Mi_return_Click", "Click");this.dispatchEvent(new egret.Event("backToSuccess",!0))},p.onSignTap=function(){ClickEvent("SHCrarus", "SHCrarus/rarus_Mi_register_now_Click", "Click");if(""==this.nameText.text)return alert("请输入你的姓名"),this.signBtn.touchEnabled=!1,void egret.setTimeout(function(){this.signBtn.touchEnabled=!0},this,1e3);if(""==this.companyNameText.text)return alert("请输入你的公司名称"),this.signBtn.touchEnabled=!1,void egret.setTimeout(function(){this.signBtn.touchEnabled=!0},this,1e3);if("请选择"==this.companyTypeText.text)return alert("请选择你的公司性质"),this.signBtn.touchEnabled=!1,void egret.setTimeout(function(){this.signBtn.touchEnabled=!0},this,1e3);if("请选择"==this.companyTypeAreaText.text)return alert("请选择你的所属行业"),this.signBtn.touchEnabled=!1,void egret.setTimeout(function(){this.signBtn.touchEnabled=!0},this,1e3);if(""==this.emailText.text)return alert("请输入你的邮箱地址"),this.signBtn.touchEnabled=!1,void egret.setTimeout(function(){this.signBtn.touchEnabled=!0},this,1e3);var t=/^\w+((-\w+)|(\.\w+))*\@[A-Za-z0-9]+((\.|-)[A-Za-z0-9]+)*\.[A-Za-z0-9]+$/;return 0==t.test(this.emailText.text)?(alert("请输入正确的邮箱地址"),this.signBtn.touchEnabled=!1,void egret.setTimeout(function(){this.signBtn.touchEnabled=!0},this,1e3)):""==this.phoneText.text?(alert("请输入你的电话号码"),this.signBtn.touchEnabled=!1,void egret.setTimeout(function(){this.signBtn.touchEnabled=!0},this,1e3)):(this.userName=this.nameText.text,this.compName=this.companyNameText.text,this.compType=this.companyTypeText.text,this.compArea=this.companyTypeAreaText.text,this.userEmail=this.emailText.text,this.userPhone=this.phoneText.text,void this.sendInfo())},p.addFormObjects=function(){function t(t){t.currentTarget.graphics.beginFill(3355443),t.currentTarget.graphics.drawRect(0,0,640,70),t.currentTarget.graphics.endFill()}function e(t){t.currentTarget.graphics.beginFill(657930),t.currentTarget.graphics.drawRect(0,0,640,70),t.currentTarget.graphics.endFill()}function i(t){t.currentTarget.graphics.beginFill(3355443),t.currentTarget.graphics.drawRect(0,0,640,70),t.currentTarget.graphics.endFill()}function s(t){t.currentTarget.graphics.beginFill(657930),t.currentTarget.graphics.drawRect(0,0,640,70),t.currentTarget.graphics.endFill()}this.formContainer=new egret.DisplayObjectContainer,this.formContainer.scaleX=this.formContainer.scaleY=this._scaleRate,this.addChild(this.formContainer),this.formBg=new egret.Bitmap(RES.getRes(this._resoucePrefix+"bg")),this.formBg.y=20,this.formContainer.addChild(this.formBg),this.formContainer.anchorOffsetY=.5*this.formContainer.height,this.formContainer.y=.5*this._iH,this.allowInfoText=new egret.TextField,this.allowInfoText.fontFamily="SimHei",this.allowInfoText.size=21,this.allowInfoText.stroke=3,this.allowInfoText.strokeColor=1311751,this.allowInfoText.lineSpacing=13,this.allowInfoText.text="我愿意收到来自埃克森美孚的产品,服务.促销或者活动信息。\n不谢谢",this.allowInfoText.x=62,this.allowInfoText.y=580,this.formContainer.addChild(this.allowInfoText),this.nameText=new egret.TextField,this.nameText.type="input",this.nameText.fontFamily="SimHei",this.nameText.size=28,this.nameText.verticalAlign="middle",this.nameText.width=270,this.nameText.height=48,this.nameText.x=250,this.nameText.y=46,this.formContainer.addChild(this.nameText),this.companyNameText=new egret.TextField,this.companyNameText.type="input",this.companyNameText.fontFamily="SimHei",this.companyNameText.size=28,this.companyNameText.verticalAlign="middle",this.companyNameText.width=270,this.companyNameText.height=48,this.companyNameText.x=250,this.companyNameText.y=128,this.formContainer.addChild(this.companyNameText),this.companyTypeText=new egret.TextField,this.companyTypeText.fontFamily="SimHei",this.companyTypeText.size=28,this.companyTypeText.text="请选择",this.companyTypeText.verticalAlign="middle",this.companyTypeText.height=48,this.companyTypeText.x=250,this.companyTypeText.y=210,this.formContainer.addChild(this.companyTypeText),this.companyTypeBtn=new egret.Shape,this.companyTypeBtn.graphics.beginFill(16711680),this.companyTypeBtn.graphics.drawRect(94,210,454,48),this.companyTypeBtn.graphics.endFill(),this.companyTypeBtn.alpha=0,this.formContainer.addChild(this.companyTypeBtn),this.companyTypeBtn.touchEnabled=!0,this.companyTypeBtn.addEventListener(egret.TouchEvent.TOUCH_TAP,this.selectCompTypeTap,this),this.companyTypeAreaText=new egret.TextField,this.companyTypeAreaText.fontFamily="SimHei",this.companyTypeAreaText.size=28,this.companyTypeAreaText.text="请选择",this.companyTypeAreaText.verticalAlign="middle",this.companyTypeAreaText.height=48,this.companyTypeAreaText.x=250,this.companyTypeAreaText.y=292,this.formContainer.addChild(this.companyTypeAreaText),this.companyTypeAreaBtn=new egret.Shape,this.companyTypeAreaBtn.graphics.beginFill(16711680),this.companyTypeAreaBtn.graphics.drawRect(94,292,454,48),this.companyTypeAreaBtn.graphics.endFill(),this.companyTypeAreaBtn.alpha=0,this.formContainer.addChild(this.companyTypeAreaBtn),this.companyTypeAreaBtn.touchEnabled=!0,this.companyTypeAreaBtn.addEventListener(egret.TouchEvent.TOUCH_TAP,this.selectCompTypeAreaTap,this),this.emailText=new egret.TextField,this.emailText.type="input",this.emailText.fontFamily="Arial",this.emailText.size=28,this.emailText.verticalAlign="middle",this.emailText.width=270,this.emailText.height=48,this.emailText.x=250,this.emailText.y=374,this.formContainer.addChild(this.emailText),this.phoneText=new egret.TextField,this.phoneText.type="input",this.phoneText.fontFamily="Arial",this.phoneText.size=28,this.phoneText.restrict="0-9",this.phoneText.verticalAlign="middle",this.phoneText.width=270,this.phoneText.height=48,this.phoneText.x=250,this.phoneText.y=456,this.formContainer.addChild(this.phoneText),this.allowPoint=new egret.Bitmap(RES.getRes(this._resoucePrefix+"point")),this.allowPoint.x=34,this.allowPoint.y=582,this.formContainer.addChild(this.allowPoint),this.allowPointBtn_1=new egret.Shape,this.allowPointBtn_1.name="allowTrue",this.allowPointBtn_1.graphics.beginFill(16711680),this.allowPointBtn_1.graphics.drawRect(0,576,640,32),this.allowPointBtn_1.graphics.endFill(),this.allowPointBtn_1.alpha=0,this.formContainer.addChild(this.allowPointBtn_1),this.allowPointBtn_1.touchEnabled=!0,this.allowPointBtn_2=new egret.Shape,this.allowPointBtn_2.name="allowFalse",this.allowPointBtn_2.graphics.beginFill(16711680),this.allowPointBtn_2.graphics.drawRect(0,607,640,32),this.allowPointBtn_2.graphics.endFill(),this.allowPointBtn_2.alpha=0,this.formContainer.addChild(this.allowPointBtn_2),this.allowPointBtn_2.touchEnabled=!0,this.allowPointBtn_1.addEventListener(egret.TouchEvent.TOUCH_TAP,this.changeAllow,this),this.allowPointBtn_2.addEventListener(egret.TouchEvent.TOUCH_TAP,this.changeAllow,this),this.companyTypeSelectCT=new egret.DisplayObjectContainer,this.companyTypeSelectCT.x=0,this.companyTypeSelectCT.visible=!1,this.formContainer.addChild(this.companyTypeSelectCT),this.companyTypeSelectBg=new egret.Shape,this.companyTypeSelectBg.graphics.beginFill(0),this.companyTypeSelectBg.graphics.drawRect(0,-500,640,1500),this.companyTypeSelectBg.graphics.endFill(),this.companyTypeSelectCT.addChild(this.companyTypeSelectBg),this.companyTypeSelectBg.touchEnabled=!0;for(var n=1;5>=n;n++){var a=new egret.Shape;a.name="compType_"+n,a.graphics.beginFill(657930),a.graphics.drawRect(0,0,640,70),a.graphics.endFill(),a.y=70*(n-1)+116,this.companyTypeSelectCT.addChild(a),a.touchEnabled=!0,a.addEventListener(egret.TouchEvent.TOUCH_BEGIN,t,this),a.addEventListener(egret.TouchEvent.TOUCH_END,e,this),a.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onTypeTap,this);var r=new egret.TextField;r.name="companyType_"+n+"Text",r.fontFamily="SimHei",r.size=32,r.text=this.companyTypeArray[n-1],r.height=70,r.x=30,r.y=70*(n-1)+116,r.verticalAlign="middle",this.companyTypeSelectCT.addChild(r)}this.companyTypeAreaCT=new egret.DisplayObjectContainer,this.companyTypeAreaCT.x=0,this.companyTypeAreaCT.visible=!1,this.formContainer.addChild(this.companyTypeAreaCT),this.companyTypeAreaBg=new egret.Shape,this.companyTypeAreaBg.graphics.beginFill(0),this.companyTypeAreaBg.graphics.drawRect(0,-500,640,1500),this.companyTypeAreaBg.graphics.endFill(),this.companyTypeAreaCT.addChild(this.companyTypeAreaBg),this.companyTypeAreaBg.touchEnabled=!0;for(var n=1;12>=n;n++){var h=new egret.Shape;h.name="compArea_"+n,h.graphics.beginFill(657930),h.graphics.drawRect(0,0,640,70),h.graphics.endFill(),h.y=70*(n-1)-130,this.companyTypeAreaCT.addChild(h),h.touchEnabled=!0,h.addEventListener(egret.TouchEvent.TOUCH_BEGIN,i,this),h.addEventListener(egret.TouchEvent.TOUCH_END,s,this),h.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onAreaTap,this);var o=new egret.TextField;o.name="companyArea_"+n+"Text",o.fontFamily="SimHei",o.size=32,o.text=this.companyTypeAreaArray[n-1],o.height=70,o.x=30,o.y=70*(n-1)-130,o.verticalAlign="middle",this.companyTypeAreaCT.addChild(o)}},p.selectCompTypeTap=function(){ClickEvent("SHCrarus", "rarus_Mi_property_company_Click", "Click");this.companyTypeSelectCT.visible=!0},p.selectCompTypeAreaTap=function(){ClickEvent("SHCrarus", "SHCrarus/rarus_Mi_property_profession_Click", "Click");this.companyTypeAreaCT.visible=!0},p.changeAllow=function(t){"allowTrue"==t.currentTarget.name?("0"==this.allowEmail&&(this.allowEmail="1"),this.allowPoint.y=582):("1"==this.allowEmail&&(this.allowEmail="0"),this.allowPoint.y=616)},p.onTypeTap=function(t){var e=Number(t.currentTarget.name.substr(9,t.currentTarget.name.length-9))-1;this.companyTypeText.text=this.companyTypeArray[e],this.companyTypeSelectCT.visible=!1},p.onAreaTap=function(t){var e=Number(t.currentTarget.name.substr(9,t.currentTarget.name.length-9))-1;this.companyTypeAreaText.text=this.companyTypeAreaArray[e],this.companyTypeAreaCT.visible=!1},p.sendInfo=function(){this.backBtn.touchEnabled=!1,this.signBtn.touchEnabled=!1,this.sendInfoLoader=new egret.URLLoader,this.sendInfoLoader.dataFormat=egret.URLLoaderDataFormat.TEXT,this.sendInfoLoader.addEventListener(egret.Event.COMPLETE,this.checkHandle,this),this.sendInfoLoader.addEventListener(egret.IOErrorEvent.IO_ERROR,this.checkHandle,this),this.sendInfoRequest=new egret.URLRequest(this.sendScoreUrl+"&rand="+Math.round(1e3*Math.random())),this.sendInfoRequest.method=egret.URLRequestMethod.POST,this.sendInfoVariables=new egret.URLVariables("userName="+this.userName+"&companyName="+this.compName+"&companyNature="+this.compType+"&industry="+this.compArea+"&email="+this.userEmail+"&phone="+this.userPhone+"&allowEmail="+this.allowEmail+"&score="+this.userScore),this.sendInfoRequest.data=this.sendInfoVariables,this.sendInfoLoader.load(this.sendInfoRequest)},p.checkHandle=function(t){switch(this.sendInfoLoader.removeEventListener(egret.Event.COMPLETE,this.checkHandle,this),this.sendInfoLoader.removeEventListener(egret.IOErrorEvent.IO_ERROR,this.checkHandle,this),this.backBtn.touchEnabled=!0,this.signBtn.touchEnabled=!0,t.type){case egret.Event.COMPLETE:t.currentTarget.data>0?(this.userId=t.currentTarget.data,this.dispatchEvent(new egret.Event("signSuccess",!0))):(alert("注册失败"),this.signBtn.touchEnabled=!1,egret.setTimeout(function(){this.signBtn.touchEnabled=!0},this,1e3));break;case egret.IOErrorEvent.IO_ERROR:alert("网络连接错误")}},e}(egret.DisplayObjectContainer);egret.registerClass(GameSignUp,"GameSignUp");var HomeRank=function(t){function e(e,i,s){t.call(this),this._resoucePrefix="rank_",this.listURL="ajax.php?flg=4",this._iW=e,this._iH=i,this._scaleRate=s,this.addEventListener(egret.Event.ADDED_TO_STAGE,this.onAddToStage,this),this.addEventListener(egret.Event.REMOVED_FROM_STAGE,this.removeFromStage,this)}__extends(e,t);var i=(__define,e);return p=i.prototype,p.onAddToStage=function(){this.addMainTitle(),this.addRanks(),this.addBtn(),this.addGreyT(),this.addRedT(),this.introAnim(),this.readList(),this.addEventListener("changeListData",this.changeList,this)},p.removeFromStage=function(){this.removeEventListener("changeListData",this.changeList,this),this.rankPerCT.removeChildren(),this.rankList.removeChild(this.listScroll),this.listScroll=null,this.removeChild(this.rankList),this.rankList=null,this.redTContainer.removeChild(this.redT),this.redT=null,this.removeChild(this.redTContainer),this.redTContainer=null,this.grayTContainer.removeChild(this.grayT),this.grayT=null,this.removeChild(this.grayTContainer),this.grayTContainer=null,this.btnBackContainer.removeChild(this.btnBack),this.btnBack=null,this.removeChild(this.btnBackContainer),this.btnBackContainer=null,this.titleContainer.removeChildren(),this.removeChild(this.titleContainer),this.titleContainer=null},p.addMainTitle=function(){this.titleContainer=new egret.Sprite,this.titleContainer.name="titleCT",this.titleContainer.scaleX=this.titleContainer.scaleY=this._scaleRate,this.addChild(this.titleContainer);for(var t=1;2>=t;t++){switch(this["titlePart_"+t]=new egret.Bitmap(RES.getRes(this._resoucePrefix+"titlePart_"+t)),t){case 1:this["titlePart_"+t].x=-368,this["titlePart_"+t].y=78;break;case 2:this["titlePart_"+t].x=386,this["titlePart_"+t].y=-42}this.titleContainer.addChild(this["titlePart_"+t])}this.mainTitle=new egret.Bitmap(RES.getRes(this._resoucePrefix+"title")),this.mainTitle.anchorOffsetX=.5*this.mainTitle.width,this.mainTitle.anchorOffsetY=.5*this.mainTitle.height,this.mainTitle.x=320,this.mainTitle.y=112,this.mainTitle.scaleX=this.mainTitle.scaleY=3,this.mainTitle.alpha=0,this.titleContainer.addChild(this.mainTitle)},p.addRanks=function(){this.rankList=new egret.Sprite,this.rankList.name="rankListCT",this.rankList.y=214*this._scaleRate,this.rankList.scaleX=this.rankList.scaleY=this._scaleRate,this.addChild(this.rankList),this.rankPerCT=new egret.DisplayObjectContainer,this.listScroll=new egret.ScrollView(this.rankPerCT),this.listScroll.width=640,this.listScroll.height=this._iH/this._scaleRate-214-136+38,this.rankList.addChild(this.listScroll)},p.addBtn=function(){function t(){this.btnBack.texture=RES.getRes(this._resoucePrefix+"btn_Over")}function e(){this.btnBack.texture=RES.getRes(this._resoucePrefix+"btn_Init")
}this.btnBackContainer=new egret.Sprite,this.btnBackContainer.name="btnCT",this.btnBackContainer.x=.5*this._iW,this.btnBackContainer.y=this._iH,this.btnBackContainer.scaleX=this.btnBackContainer.scaleY=this._scaleRate,this.addChild(this.btnBackContainer),this.btnBack=new egret.Bitmap,this.btnBack.texture=RES.getRes(this._resoucePrefix+"btn_Init"),this.btnBack.x=-186,this.btnBack.y=0,this.btnBackContainer.addChild(this.btnBack),this.btnBack.addEventListener(egret.TouchEvent.TOUCH_BEGIN,t,this),this.btnBack.addEventListener(egret.TouchEvent.TOUCH_END,e,this),this.btnBack.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onBackToMain,this)},p.onBackToMain=function(){ClickEvent("SHCrarus", "SHCrarus/rarus_List_return_Click", "Click");this.dispatchEvent(new egret.Event("hideRank",!0))},p.addGreyT=function(){this.grayTContainer=new egret.Sprite,this.grayTContainer.name="grayTCT",this.grayTContainer.scaleX=this.grayTContainer.scaleY=this._scaleRate,this.addChild(this.grayTContainer),this.grayT=new egret.Bitmap(RES.getRes(this._resoucePrefix+"blackT")),this.grayT.x=-150,this.grayT.y=-260,this.grayT.scaleX=this.grayT.scaleY=2,this.grayTContainer.addChild(this.grayT)},p.addRedT=function(){this.redTContainer=new egret.Sprite,this.redTContainer.name="redTCT",this.redTContainer.scaleX=this.redTContainer.scaleY=this._scaleRate,this.redTContainer.y=this._iH,this.addChild(this.redTContainer),this.redT=new egret.Bitmap(RES.getRes(this._resoucePrefix+"redT")),this.redT.x=434,this.redT.y=-282,this.redT.scaleX=this.redT.scaleY=2,this.redT.alpha=0,this.redTContainer.addChild(this.redT)},p.introAnim=function(){egret.Tween.get(this.mainTitle).to({scaleX:1,scaleY:1,alpha:1},350,egret.Ease.cubicInOut),egret.Tween.get(this.titlePart_1).wait(250).to({x:0,y:16},200,egret.Ease.cubicInOut),egret.Tween.get(this.titlePart_2).wait(300).to({x:0,y:16},200,egret.Ease.cubicInOut),egret.Tween.get(this.grayT).wait(500).to({scaleX:1,scaleY:1,x:-10,y:6},200,egret.Ease.backOut),egret.Tween.get(this.btnBack).wait(700).to({y:-136},250,egret.Ease.backOut),egret.Tween.get(this.redT).wait(800).to({scaleX:1,scaleY:1,x:510,y:-186,alpha:1},500,egret.Ease.elasticOut)},p.readList=function(){this.btnBack.touchEnabled=!1,this.listLoader=new egret.URLLoader,this.listLoader.dataFormat=egret.URLLoaderDataFormat.TEXT,this.listLoader.addEventListener(egret.Event.COMPLETE,this.onLoadComplete,this),this.listLoader.addEventListener(egret.IOErrorEvent.IO_ERROR,this.onLoadError,this),this.listRequest=new egret.URLRequest(this.listURL+"&rand="+Math.round(1e3*Math.random())),this.listLoader.load(this.listRequest)},p.onLoadComplete=function(t){this.listLoader.removeEventListener(egret.Event.COMPLETE,this.onLoadComplete,this),this.listLoader.removeEventListener(egret.IOErrorEvent.IO_ERROR,this.onLoadError,this),this.btnBack.touchEnabled=!0;for(var e=t.currentTarget.data,i=e.split("~|").length,s=0;i>s;s++){var n=new PerRank(s+1,e.split("~|")[s].split(",")[0],Number(e.split("~|")[s].split(",")[1]),!1);n.name="perRank_"+(s+1),n.x=28,n.y=54*s,this.rankPerCT.addChild(n)}},p.onLoadError=function(){this.btnBack.touchEnabled=!0,alert("网络连接错误")},p.changeList=function(){this.rankPerCT.removeChildren(),this.readList()},e}(egret.Sprite);egret.registerClass(HomeRank,"HomeRank");var LoadingUI=function(t){function e(e,i,s){t.call(this),this._iW=e,this._iH=i,this._scaleRate=s,this.addEventListener(egret.Event.ADDED_TO_STAGE,this.onAddToStage,this),this.addEventListener(egret.Event.REMOVED_FROM_STAGE,this.removeFromStage,this)}__extends(e,t);var i=(__define,e);return p=i.prototype,p.onAddToStage=function(){this.bgMain=new egret.Bitmap,this.bgMain.width=this._iW,this.bgMain.height=1008*this._scaleRate,this.addChild(this.bgMain),this.loadTextField=new egret.TextField,this.loadTextField.fontFamily="Arial",this.loadTextField.bold=!0,this.loadTextField.textColor=15438592,this.loadTextField.size=40*this._scaleRate,this.loadTextField.text="loading   0%",this.loadTextField.textAlign="center",this.loadTextField.anchorOffsetX=.5*this.loadTextField.width,this.loadTextField.anchorOffsetY=.5*this.loadTextField.height,this.loadTextField.x=.5*this._iW,this.loadTextField.y=.85*this._iH,this.addChild(this.loadTextField),RES.getResByUrl("resource/assets/loadBg.png",function(t){this.bgMain&&(this.bgMain.texture=t)},this,RES.ResourceItem.TYPE_IMAGE)},p.removeFromStage=function(){this.removeChildren(),this.bgMain=null},p.setProgress=function(t,e){this.loadTextField.text="loading "+Math.round(t/e*100)+"%"},e}(egret.Sprite);egret.registerClass(LoadingUI,"LoadingUI");var Main=function(t){function e(){t.call(this),this.uId="",this.uName="",this.uPhone="",this.uScore="0",this.addEventListener(egret.Event.ADDED_TO_STAGE,this.onAddToStage,this)}__extends(e,t);var i=(__define,e);return p=i.prototype,p.onAddToStage=function(){this._iW=this.stage.stageWidth,this._iH=this.stage.stageHeight,this._scaleRate=this._iW/640,this._offsetY=50*this._scaleRate,this.loadingView=new LoadingUI(this._iW,this._iH,this._scaleRate),this.stage.addChild(this.loadingView),RES.addEventListener(RES.ResourceEvent.CONFIG_COMPLETE,this.onConfigComplete,this),RES.loadConfig("resource/default.res.json","resource/")},p.onConfigComplete=function(){RES.removeEventListener(RES.ResourceEvent.CONFIG_COMPLETE,this.onConfigComplete,this),RES.addEventListener(RES.ResourceEvent.GROUP_COMPLETE,this.onResourceLoadComplete,this),RES.addEventListener(RES.ResourceEvent.GROUP_LOAD_ERROR,this.onResourceLoadError,this),RES.addEventListener(RES.ResourceEvent.GROUP_PROGRESS,this.onResourceProgress,this),RES.loadGroup("preload")},p.onResourceLoadComplete=function(t){"preload"==t.groupName&&(this.stage.removeChild(this.loadingView),this.loadingView=null,RES.removeEventListener(RES.ResourceEvent.GROUP_COMPLETE,this.onResourceLoadComplete,this),RES.removeEventListener(RES.ResourceEvent.GROUP_LOAD_ERROR,this.onResourceLoadError,this),RES.removeEventListener(RES.ResourceEvent.GROUP_PROGRESS,this.onResourceProgress,this),this.createMainContainer(),this.createLogo())},p.onResourceLoadError=function(t){console.warn("Group:"+t.groupName+" has failed to load"),this.onResourceLoadComplete(t)},p.onResourceProgress=function(t){"preload"==t.groupName&&this.loadingView.setProgress(t.itemsLoaded,t.itemsTotal)},p.createMainContainer=function(){this.mainContainer=new egret.Sprite,this.mainContainer.y=this._offsetY,this.stage.addChild(this.mainContainer),this.createGameBg(),this.createStartScene(),this.mainContainer.addEventListener("showRank",this.createRank,this),this.mainContainer.addEventListener("showRankFromSuccess",this.createRankFromSuccess,this),this.mainContainer.addEventListener("showRankFromSigned",this.createRankFromSigned,this),this.mainContainer.addEventListener("hideRank",this.removeRank,this),this.mainContainer.addEventListener("hidePersonRank",this.removePersonRank,this),this.mainContainer.addEventListener("showRule",this.createRule,this),this.mainContainer.addEventListener("hideRule",this.removeRule,this),this.mainContainer.addEventListener("skipToGame",this.skipToGame,this),this.mainContainer.addEventListener("showSuccess",this.createSuccessGame,this),this.mainContainer.addEventListener("successRestart",this.successRestartGame,this),this.mainContainer.addEventListener("successSignup",this.successSign,this),this.mainContainer.addEventListener("backToSuccess",this.signBackToSuccess,this),this.mainContainer.addEventListener("signSuccess",this.removeSign,this)},p.createLogo=function(){this.logo=new egret.Bitmap(RES.getRes("logo")),this.logo.width=this._iW,this.logo.height=this._offsetY,this.stage.addChild(this.logo)},p.createGameBg=function(){this.mainGameBg=new MainBg(this._iW,this._iH-this._offsetY,this._scaleRate),this.mainContainer.addChild(this.mainGameBg)},p.createStartScene=function(){this.startScreen=new StartGame(this._iW,this._iH-this._offsetY,this._scaleRate),this.startScreen.anchorOffsetX=this.startScreen.x=.5*this._iW,this.startScreen.anchorOffsetY=this.startScreen.y=.5*(this._iH-this._offsetY),this.mainContainer.addChild(this.startScreen)},p.createHomeRankScene=function(){this.homeRankScreen=new HomeRank(this._iW,this._iH-this._offsetY,this._scaleRate),this.homeRankScreen.anchorOffsetX=this.homeRankScreen.x=.5*this._iW,this.homeRankScreen.anchorOffsetY=this.homeRankScreen.y=.5*(this._iH-this._offsetY),this.mainContainer.addChild(this.homeRankScreen)},p.createPersonRankScene=function(){this.personRankScreen=new PersonRank(this._iW,this._iH-this._offsetY,this._scaleRate,this.uId),this.personRankScreen.anchorOffsetX=this.personRankScreen.x=.5*this._iW,this.personRankScreen.anchorOffsetY=this.personRankScreen.y=.5*(this._iH-this._offsetY),this.mainContainer.addChild(this.personRankScreen)},p.createRank=function(){function t(){this.startScreen.visible=!1,this.homeRankScreen?(this.homeRankScreen.dispatchEvent(new egret.Event("changeListData",!0)),this.homeRankScreen.visible=!0,egret.Tween.get(this.homeRankScreen).to({alpha:1,scaleX:1,scaleY:1},250,egret.Ease.cubicInOut)):this.createHomeRankScene()}this.homeRankBackToType=1,this.startScreen&&this.startScreen.dispatchEvent(new egret.Event("pauseStartAnim",!0)),egret.Tween.get(this.startScreen).to({alpha:0,scaleX:.95,scaleY:.95},350,egret.Ease.cubicInOut).call(t,this)},p.createRankFromSuccess=function(){function t(){this.successScreen.visible=!1,this.homeRankScreen?(this.homeRankScreen.dispatchEvent(new egret.Event("changeListData",!0)),this.homeRankScreen.visible=!0,egret.Tween.get(this.homeRankScreen).to({alpha:1,scaleX:1,scaleY:1},250,egret.Ease.cubicInOut)):this.createHomeRankScene()}this.homeRankBackToType=2,egret.Tween.get(this.successScreen).to({alpha:0,scaleX:.95,scaleY:.95},350,egret.Ease.cubicInOut).call(t,this)},p.createRankFromSigned=function(){function t(){this.successScreen.visible=!1,this.personRankScreen.dispatchEvent(new egret.Event("changeListData",!0)),this.personRankScreen.visible=!0,egret.Tween.get(this.personRankScreen).to({alpha:1,scaleX:1,scaleY:1},250,egret.Ease.cubicInOut)}egret.Tween.get(this.successScreen).to({alpha:0,scaleX:.95,scaleY:.95},350,egret.Ease.cubicInOut).call(t,this)},p.removeRank=function(){function t(){this.homeRankScreen.visible=!1,this.startScreen.visible=!0,egret.Tween.get(this.startScreen).to({alpha:1,scaleX:1,scaleY:1},250,egret.Ease.cubicInOut)}function e(){this.homeRankScreen.visible=!1,this.successScreen.visible=!0,egret.Tween.get(this.successScreen).to({alpha:1,scaleX:1,scaleY:1},250,egret.Ease.cubicInOut)}this.startScreen&&this.startScreen.dispatchEvent(new egret.Event("resumeStartAnim",!0)),1==this.homeRankBackToType?egret.Tween.get(this.homeRankScreen).to({alpha:0,scaleX:.95,scaleY:.95},350,egret.Ease.cubicInOut).call(t,this):2==this.homeRankBackToType&&egret.Tween.get(this.homeRankScreen).to({alpha:0,scaleX:.95,scaleY:.95},350,egret.Ease.cubicInOut).call(e,this)},p.removePersonRank=function(){function t(){this.personRankScreen.visible=!1,this.successScreen.visible=!0,egret.Tween.get(this.successScreen).to({alpha:1,scaleX:1,scaleY:1},250,egret.Ease.cubicInOut)}this.startScreen&&this.startScreen.dispatchEvent(new egret.Event("resumeStartAnim",!0)),egret.Tween.get(this.personRankScreen).to({alpha:0,scaleX:.95,scaleY:.95},350,egret.Ease.cubicInOut).call(t,this)},p.createRule=function(){this.mainGameBg.pauseAnimBg(),this.startScreen&&this.startScreen.dispatchEvent(new egret.Event("pauseStartAnim",!0)),this.gameRule=new GameRule(this._iW,this._iH-this._offsetY,this._scaleRate),this.mainContainer.addChild(this.gameRule)},p.removeRule=function(){this.startScreen&&(this.mainGameBg.resumeAnimBg(),this.startScreen.dispatchEvent(new egret.Event("resumeStartAnim",!0))),this.gameScreen&&this.gameScreen.dispatchEvent(new egret.Event("gamePauseResume",!0)),this.mainContainer.removeChild(this.gameRule),this.gameRule=null},p.skipToGame=function(){this.homeRankScreen&&(this.mainContainer.removeChild(this.homeRankScreen),this.homeRankScreen=null),this.mainContainer.removeChild(this.startScreen),this.startScreen=null,this.mainGameBg.setBlackAlpha(.8),this.mainGameBg.pauseAnimBg(),this.gameScreen=new Gameing(this._iW,this._iH-this._offsetY,this._scaleRate),this.mainContainer.addChild(this.gameScreen)},p.createSuccessGame=function(){this.uScore=String(this.gameScreen.allScores),this.mainGameBg.setBlackAlpha(.4),this.mainGameBg.resumeAnimBg(),this.gameScreen.visible=!1,this.successScreen?(this.successScreen._uScore=this.uScore,this.successScreen.dispatchEvent(new egret.Event("changeScore",!0)),this.successScreen.visible=!0,egret.Tween.get(this.successScreen).to({alpha:1,scaleX:1,scaleY:1},250,egret.Ease.cubicInOut)):(this.successScreen=new SuccessGame(this._iW,this._iH-this._offsetY,this._scaleRate,this.uScore),this.successScreen.anchorOffsetX=this.successScreen.x=.5*this._iW,this.successScreen.anchorOffsetY=this.successScreen.y=.5*(this._iH-this._offsetY),this.mainContainer.addChild(this.successScreen))},p.successRestartGame=function(){function t(){this.successScreen.visible=!1,this.gameScreen.visible=!0,this.gameScreen.restartGame()}this.mainGameBg.setBlackAlpha(.8),this.mainGameBg.pauseAnimBg(),egret.Tween.get(this.successScreen).to({alpha:0,scaleX:.95,scaleY:.95},350,egret.Ease.cubicInOut).call(t,this)},p.successSign=function(){this.mainGameBg.pauseAnimBg(),this.gameSignup?(this.gameSignup.userScore=this.uScore,this.gameSignup.visible=!0,egret.Tween.get(this.gameSignup).to({alpha:1,scaleX:1,scaleY:1},250,egret.Ease.cubicInOut)):(this.gameSignup=new GameSignUp(this._iW,this._iH-this._offsetY,this._scaleRate,this.uScore),this.gameSignup.anchorOffsetX=this.gameSignup.x=.5*this._iW,this.gameSignup.anchorOffsetY=this.gameSignup.y=.5*(this._iH-this._offsetY),this.mainContainer.addChild(this.gameSignup))},p.signBackToSuccess=function(){function t(){this.gameSignup.visible=!1}this.mainGameBg.resumeAnimBg(),egret.Tween.get(this.gameSignup).to({alpha:0,scaleX:.95,scaleY:.95},350,egret.Ease.cubicInOut).call(t,this)},p.removeSign=function(){function t(){this.mainContainer.removeChild(this.gameSignup),this.gameSignup=null}function e(){this.successScreen.visible=!1,this.createPersonRankScene()}this.homeRankScreen&&(this.mainContainer.removeChild(this.homeRankScreen),this.homeRankScreen=null),this.mainGameBg.resumeAnimBg(),this.successScreen.hideSignBtn(),this.uId=this.gameSignup.userId,this.uName=this.successScreen._uName=this.gameSignup.userName,this.uPhone=this.successScreen._uPhone=this.gameSignup.userPhone,egret.Tween.get(this.gameSignup).to({alpha:0,scaleX:.95,scaleY:.95},350,egret.Ease.cubicInOut).call(t,this),egret.Tween.get(this.successScreen).to({alpha:0,scaleX:.95,scaleY:.95},350,egret.Ease.cubicInOut).call(e,this)},e}(egret.DisplayObjectContainer);egret.registerClass(Main,"Main");var MainBg=function(t){function e(e,i,s){t.call(this),this._resoucePrefix="bg_",this.bgId=1,this._iW=e,this._iH=i,this._scaleRate=s,this.addEventListener(egret.Event.ADDED_TO_STAGE,this.onAddToStage,this)}__extends(e,t);var i=(__define,e);return p=i.prototype,p.onAddToStage=function(){this.bgAnim=new egret.Bitmap,this.bgAnim.texture=RES.getRes(this._resoucePrefix+"bgAnim1"),this.bgAnim.name="mainBgAnim",this.bgAnim.width=this._iW,this.bgAnim.height=1108*this._scaleRate,this.bgAnim.anchorOffsetX=.5*this._iW,this.bgAnim.anchorOffsetY=.5*this._iH,this.bgAnim.x=.5*this._iW,this.bgAnim.y=.5*this._iH,this.bgAnimTimer=new egret.Timer(120,0),this.bgAnimTimer.addEventListener(egret.TimerEvent.TIMER,this.onAnimBg,this),this.bgAnimTimer.start(),this.blackMask=new egret.Shape,this.blackMask.graphics.beginFill(0),this.blackMask.graphics.drawRect(0,0,this._iW,this._iH),this.blackMask.graphics.endFill(),this.bgKuang_bottom=new egret.Bitmap(RES.getRes(this._resoucePrefix+"bgKuang_1")),this.bgKuang_bottom.width=this._iW,this.bgKuang_bottom.height=1138*this._scaleRate,this.bgKuang_bottom.anchorOffsetY=this.bgKuang_bottom.height,this.bgKuang_bottom.y=this._iH,this.bgKuang_top=new egret.Bitmap(RES.getRes(this._resoucePrefix+"bgKuang_2")),this.bgKuang_top.width=this._iW,this.bgKuang_top.height=958*this._scaleRate,this.addChild(this.bgAnim),this.addChild(this.blackMask),this.addChild(this.bgKuang_bottom),this.addChild(this.bgKuang_top),this.setBlackAlpha(.4)},p.onAnimBg=function(){this.bgId++,this.bgId>24&&(this.bgId=1),this.bgAnim.texture=RES.getRes(this._resoucePrefix+"bgAnim"+this.bgId)},p.pauseAnimBg=function(){this.bgAnimTimer.stop()},p.resumeAnimBg=function(){this.bgAnimTimer.start()},p.setBlackAlpha=function(t){egret.Tween.get(this.blackMask).to({alpha:t},250)},e}(egret.Sprite);egret.registerClass(MainBg,"MainBg");var MainGameingScreen=function(t){function e(e,i,s){t.call(this),this._resoucePrefix="game_",this._minPosY=-70,this._maxPosY=70,this.objId=1,this._iW=e,this._iH=i,this._scaleRate=s,this._maxW=this._iW-46*this._scaleRate-42*this._scaleRate,this._maxH=this._iH-44*this._scaleRate,this.addEventListener(egret.Event.ADDED_TO_STAGE,this.onAddToStage,this)}__extends(e,t);var i=(__define,e);return p=i.prototype,p.onAddToStage=function(){this.objContainer=new egret.Sprite,this.objContainer.x=46*this._scaleRate,this.objContainer.y=44*this._scaleRate,this.addChild(this.objContainer),this.banContainer=new egret.Sprite,this.banContainer.x=46*this._scaleRate,this.banContainer.y=this._iH-170*this._scaleRate,this.banContainer.scaleX=this.banContainer.scaleY=this._scaleRate,this.addChild(this.banContainer),this.banBg=new egret.Bitmap(RES.getRes(this._resoucePrefix+"banBg")),this.banContainer.addChild(this.banBg),this.banCTW=this.banBg.width*this._scaleRate,this.banCTH=this.banBg.height*this._scaleRate,this._minBanX=46*this._scaleRate,this._maxBanX=this._iW-42*this._scaleRate-this.banBg.width*this._scaleRate,this.iOrientation=new egret.DeviceOrientation,this.iOrientation.addEventListener(egret.Event.CHANGE,this.onOrientation,this)},p.xRate=function(t){return t*((this._maxBanX-this._minBanX)/(this._maxPosY-this._minPosY))+.5*(this._maxBanX-this._minBanX)+this._minBanX},p.onOrientation=function(t){this.banContainer.x=this.xRate(t.gamma<this._minPosY?this._minPosY:t.gamma>this._maxPosY?this._maxPosY:t.gamma)},p.createPerObj=function(){function t(){var t=Math.ceil(2*Math.random());return t}function e(t){egret.Tween.removeTweens(t),this.objContainer.removeChild(t),t=null}function i(){if(this.objContainer.y+s.y>=this.banContainer.y-(s.height-s.offsets)&&this.objContainer.y+s.y<=this.banContainer.y+.75*this.banCTH-s.offsets&&this.objContainer.x+s.x>=this.banContainer.x-(s.width-s.offsets)&&this.objContainer.x+s.x<=this.banContainer.x+this.banCTW-s.offsets)switch(egret.Tween.removeTweens(s),s.hideState(),s.tId){case"G":this.addTipS("tip1"),this.dispatchEvent(new egret.Event("doAdd5Time",!0));break;case"B":this.addTipS("tip5"),this.dispatchEvent(new egret.Event("add200Score",!0));break;case"R":this.addTipS("tip4"),this.dispatchEvent(new egret.Event("add400Score",!0));break;case"A":this.addTipS("tip2"),this.dispatchEvent(new egret.Event("doMinus10Time",!0))}}var s,n=Math.ceil(20*Math.random()),a=Math.ceil(15*Math.random()),r=1e3*(Math.round(3*Math.random())+2);if(4==n)s=new Obj_GoldT(this._scaleRate),s.tId="G",s.offsets=42*this._scaleRate;else if(1==a||5==a||10==a||15==a)s=new Obj_BadT(this._scaleRate),s.tId="A",s.offsets=14*this._scaleRate;else switch(t()){case 1:s=new Obj_BlackT(this._scaleRate),s.tId="B",s.offsets=18*this._scaleRate;break;case 2:s=new Obj_RedT(this._scaleRate),s.tId="R",s.offsets=24*this._scaleRate}s.name="perObj"+this.objId,this.objContainer.addChild(s),s.x=Math.round(Math.random()*(this._maxW-s.width)),egret.Tween.get(s,{onChange:i,onChangeObj:this}).to({y:this._maxH},r).call(e,this,[s]),this.objId++},p.addTipS=function(t){function e(t){egret.Tween.removeTweens(t),this.banContainer.removeChild(t),t=null}var i=new egret.Bitmap(RES.getRes(this._resoucePrefix+t));i.alpha=0,i.y=-80,this.banContainer.addChild(i),egret.Tween.get(i).to({alpha:1,y:-100},250).wait(150).to({alpha:0,y:-120},250).call(e,this,[i])},p.useCountdown=function(){function t(){s--,s>1?(n.texture=RES.getRes(this._resoucePrefix+"num2"),egret.setTimeout(t,this,1e3)):(n.texture=RES.getRes(this._resoucePrefix+"num3"),egret.setTimeout(e,this,1e3))}function e(){this.removeChild(n),n=null,this.addChild(a),egret.setTimeout(i,this,1e3)}function i(){this.removeChild(a),a=null}var s=3,n=new egret.Bitmap;n.texture=RES.getRes(this._resoucePrefix+"num1"),n.anchorOffsetX=.5*n.width,n.anchorOffsetY=.5*n.height,n.scaleX=n.scaleY=this._scaleRate,n.x=.5*this._iW,n.y=.5*this._iH;var a=new egret.Bitmap;a.texture=RES.getRes(this._resoucePrefix+"num4"),a.anchorOffsetX=.5*a.width,a.anchorOffsetY=.5*a.height,a.scaleX=a.scaleY=this._scaleRate,a.x=.5*this._iW,a.y=.5*this._iH,this.addChild(n),egret.setTimeout(t,this,1e3)},p.newGame=function(){this.gameState="playing",this.dispatchEvent(new egret.Event("disableBtns",!0)),this.useCountdown(),egret.setTimeout(function(){this.createObjTimer=new egret.Timer(300,0),this.createObjTimer.addEventListener(egret.TimerEvent.TIMER,this.createPerObj,this),this.createObjTimer.start(),this.dispatchEvent(new egret.Event("doMinusTime",!0)),this.dispatchEvent(new egret.Event("enableBtns",!0)),this.iOrientation.start()},this,4e3)},p.restartGame=function(){this.gameState="playing",this.dispatchEvent(new egret.Event("disableBtns",!0)),this.useCountdown(),this.objId=1,egret.setTimeout(function(){this.createObjTimer.reset(),this.createObjTimer.start(),this.dispatchEvent(new egret.Event("reDoMinusTime",!0)),this.dispatchEvent(new egret.Event("enableBtns",!0)),this.iOrientation.start()},this,4e3)},p.stopGame=function(){this.gameState="stopping",this.iOrientation.stop(),this.createObjTimer.stop();for(var t=this.objId;t>=this.objId-15;t--){var e=this.objContainer.getChildByName("perObj"+t);e&&(e.dispatchEvent(new egret.Event("doRemoveTopAnim",!0)),egret.Tween.removeTweens(e),this.objContainer.removeChild(e),e=null)}},p.pauseGame=function(){this.gameState="pausing",this.iOrientation.stop(),this.createObjTimer.stop();for(var t=this.objId;t>=this.objId-15;t--){var e=this.objContainer.getChildByName("perObj"+t);e&&(e.dispatchEvent(new egret.Event("doPauseTopAnim",!0)),egret.Tween.pauseTweens(e))}},p.resumeGame=function(){this.gameState="playing",this.dispatchEvent(new egret.Event("disableBtns",!0)),this.useCountdown(),egret.setTimeout(function(){this.createObjTimer.start();for(var t=this.objId;t>=this.objId-15;t--){var e=this.objContainer.getChildByName("perObj"+t);e&&(e.dispatchEvent(new egret.Event("doResumeTopAnim",!0)),egret.Tween.resumeTweens(e))}this.dispatchEvent(new egret.Event("enableBtns",!0)),this.iOrientation.start()},this,4e3)},e}(egret.Sprite);egret.registerClass(MainGameingScreen,"MainGameingScreen");var Obj_BadT=function(t){function e(e){t.call(this),this._resoucePrefix="game_",this._scaleRate=e,this.addEventListener(egret.Event.ADDED_TO_STAGE,this.onAddToStage,this),this.addEventListener(egret.Event.REMOVED_FROM_STAGE,this.onRemovedFromStage,this)}__extends(e,t);var i=(__define,e);return p=i.prototype,p.onAddToStage=function(){this.backNoAnim=new egret.Bitmap(RES.getRes(this._resoucePrefix+"objBadT")),this.addChild(this.backNoAnim),this.topAnim=new egret.Bitmap(RES.getRes(this._resoucePrefix+"objBadT2")),this.addChild(this.topAnim),this.backNoAnim.scaleX=this.backNoAnim.scaleY=this.topAnim.scaleX=this.topAnim.scaleY=this._scaleRate,this.initState(),this.addEventListener("doRemoveTopAnim",this.stopState,this),this.addEventListener("doPauseTopAnim",this.pauseState,this),this.addEventListener("doResumeTopAnim",this.resumeState,this)},p.onRemovedFromStage=function(){egret.Tween.removeTweens(this.topAnim),this.backNoAnim.texture=null,this.removeChild(this.backNoAnim),this.backNoAnim=null,this.topAnim.texture=null,this.removeChild(this.topAnim),this.topAnim=null,this.removeEventListener("doRemoveTopAnim",this.stopState,this),this.removeEventListener("doPauseTopAnim",this.pauseState,this),this.removeEventListener("doResumeTopAnim",this.resumeState,this)},p.initState=function(){egret.Tween.get(this.topAnim,{loop:!0}).to({alpha:0},500).to({alpha:1},500)},p.hideState=function(){function t(){egret.Tween.removeTweens(this.topAnim),this.parent.removeChild(this)}egret.Tween.removeTweens(this.topAnim),this.backNoAnim.alpha=0,egret.Tween.get(this.topAnim).to({alpha:0},250).call(t,this)},p.pauseState=function(t){void 0===t&&(t=null),egret.Tween.pauseTweens(this.topAnim)},p.resumeState=function(t){void 0===t&&(t=null),egret.Tween.resumeTweens(this.topAnim)},p.stopState=function(t){void 0===t&&(t=null),egret.Tween.removeTweens(this.topAnim)},e}(egret.Sprite);egret.registerClass(Obj_BadT,"Obj_BadT");var Obj_BlackT=function(t){function e(e){t.call(this),this._resoucePrefix="game_",this._scaleRate=e,this.addEventListener(egret.Event.ADDED_TO_STAGE,this.onAddToStage,this),this.addEventListener(egret.Event.REMOVED_FROM_STAGE,this.onRemovedFromStage,this)}__extends(e,t);var i=(__define,e);return p=i.prototype,p.onAddToStage=function(){this.backNoAnim=new egret.Bitmap(RES.getRes(this._resoucePrefix+"objBlackT")),this.addChild(this.backNoAnim),this.topAnim=new egret.Bitmap(RES.getRes(this._resoucePrefix+"objBlackT2")),this.addChild(this.topAnim),this.backNoAnim.scaleX=this.backNoAnim.scaleY=this.topAnim.scaleX=this.topAnim.scaleY=this._scaleRate,this.initState(),this.addEventListener("doRemoveTopAnim",this.stopState,this),this.addEventListener("doPauseTopAnim",this.pauseState,this),this.addEventListener("doResumeTopAnim",this.resumeState,this)},p.onRemovedFromStage=function(){egret.Tween.removeTweens(this.topAnim),this.backNoAnim.texture=null,this.removeChild(this.backNoAnim),this.backNoAnim=null,this.topAnim.texture=null,this.removeChild(this.topAnim),this.topAnim=null,this.removeEventListener("doRemoveTopAnim",this.stopState,this),this.removeEventListener("doPauseTopAnim",this.pauseState,this),this.removeEventListener("doResumeTopAnim",this.resumeState,this)},p.initState=function(){egret.Tween.get(this.topAnim,{loop:!0}).to({alpha:0},500).to({alpha:1},500)},p.hideState=function(){function t(){egret.Tween.removeTweens(this.topAnim),this.parent.removeChild(this)}egret.Tween.removeTweens(this.topAnim),this.backNoAnim.alpha=0,egret.Tween.get(this.topAnim).to({alpha:0},250).call(t,this)},p.pauseState=function(t){void 0===t&&(t=null),egret.Tween.pauseTweens(this.topAnim)},p.resumeState=function(t){void 0===t&&(t=null),egret.Tween.resumeTweens(this.topAnim)},p.stopState=function(t){void 0===t&&(t=null),egret.Tween.removeTweens(this.topAnim)},e}(egret.Sprite);egret.registerClass(Obj_BlackT,"Obj_BlackT");var Obj_GoldT=function(t){function e(e){t.call(this),this._resoucePrefix="game_",this._scaleRate=e,this.addEventListener(egret.Event.ADDED_TO_STAGE,this.onAddToStage,this),this.addEventListener(egret.Event.REMOVED_FROM_STAGE,this.onRemovedFromStage,this)}__extends(e,t);var i=(__define,e);return p=i.prototype,p.onAddToStage=function(){this.backNoAnim=new egret.Bitmap(RES.getRes(this._resoucePrefix+"objGoldT")),this.addChild(this.backNoAnim),this.topAnim=new egret.Bitmap(RES.getRes(this._resoucePrefix+"objGoldT2")),this.addChild(this.topAnim),this.backNoAnim.scaleX=this.backNoAnim.scaleY=this.topAnim.scaleX=this.topAnim.scaleY=this._scaleRate,this.initState(),this.addEventListener("doRemoveTopAnim",this.stopState,this),this.addEventListener("doPauseTopAnim",this.pauseState,this),this.addEventListener("doResumeTopAnim",this.resumeState,this)},p.onRemovedFromStage=function(){egret.Tween.removeTweens(this.topAnim),this.backNoAnim.texture=null,this.removeChild(this.backNoAnim),this.backNoAnim=null,this.topAnim.texture=null,this.removeChild(this.topAnim),this.topAnim=null,this.removeEventListener("doRemoveTopAnim",this.stopState,this),this.removeEventListener("doPauseTopAnim",this.pauseState,this),this.removeEventListener("doResumeTopAnim",this.resumeState,this)},p.initState=function(){egret.Tween.get(this.topAnim,{loop:!0}).to({alpha:0},500).to({alpha:1},500)},p.hideState=function(){function t(){egret.Tween.removeTweens(this.topAnim),this.parent.removeChild(this)}egret.Tween.removeTweens(this.topAnim),this.backNoAnim.alpha=0,egret.Tween.get(this.topAnim).to({alpha:0},250).call(t,this)},p.pauseState=function(t){void 0===t&&(t=null),egret.Tween.pauseTweens(this.topAnim)},p.resumeState=function(t){void 0===t&&(t=null),egret.Tween.resumeTweens(this.topAnim)},p.stopState=function(t){void 0===t&&(t=null),egret.Tween.removeTweens(this.topAnim)},e}(egret.Sprite);egret.registerClass(Obj_GoldT,"Obj_GoldT");var Obj_RedT=function(t){function e(e){t.call(this),this._resoucePrefix="game_",this._scaleRate=e,this.addEventListener(egret.Event.ADDED_TO_STAGE,this.onAddToStage,this),this.addEventListener(egret.Event.REMOVED_FROM_STAGE,this.onRemovedFromStage,this)}__extends(e,t);var i=(__define,e);return p=i.prototype,p.onAddToStage=function(){this.backNoAnim=new egret.Bitmap(RES.getRes(this._resoucePrefix+"objRedT")),this.addChild(this.backNoAnim),this.topAnim=new egret.Bitmap(RES.getRes(this._resoucePrefix+"objRedT2")),this.addChild(this.topAnim),this.backNoAnim.scaleX=this.backNoAnim.scaleY=this.topAnim.scaleX=this.topAnim.scaleY=this._scaleRate,this.initState(),this.addEventListener("doRemoveTopAnim",this.stopState,this),this.addEventListener("doPauseTopAnim",this.pauseState,this),this.addEventListener("doResumeTopAnim",this.resumeState,this)},p.onRemovedFromStage=function(){egret.Tween.removeTweens(this.topAnim),this.backNoAnim.texture=null,this.removeChild(this.backNoAnim),this.backNoAnim=null,this.topAnim.texture=null,this.removeChild(this.topAnim),this.topAnim=null,this.removeEventListener("doRemoveTopAnim",this.stopState,this),this.removeEventListener("doPauseTopAnim",this.pauseState,this),this.removeEventListener("doResumeTopAnim",this.resumeState,this)},p.initState=function(){egret.Tween.get(this.topAnim,{loop:!0}).to({alpha:0},500).to({alpha:1},500)},p.hideState=function(){function t(){egret.Tween.removeTweens(this.topAnim),this.parent.removeChild(this)}egret.Tween.removeTweens(this.topAnim),this.backNoAnim.alpha=0,egret.Tween.get(this.topAnim).to({alpha:0},250).call(t,this)},p.pauseState=function(t){void 0===t&&(t=null),egret.Tween.pauseTweens(this.topAnim)},p.resumeState=function(t){void 0===t&&(t=null),egret.Tween.resumeTweens(this.topAnim)},p.stopState=function(t){void 0===t&&(t=null),egret.Tween.removeTweens(this.topAnim)},e}(egret.Sprite);egret.registerClass(Obj_RedT,"Obj_RedT");var PerRank=function(t){function e(e,i,s,n){t.call(this),this._resoucePrefix="rank_",this._id=e,this._name=i,this._score=s,this._isSelf=n,this.addEventListener(egret.Event.ADDED_TO_STAGE,this.onAddToStage,this)}__extends(e,t);var i=(__define,e);return p=i.prototype,p.onAddToStage=function(){this.mBg=new egret.Bitmap,this.mBg.width=588,this.mBg.height=64,this.addChild(this.mBg),this.mBg.texture=RES.getRes(this._id<=3?this._resoucePrefix+"perTop3":this._id>3&&this._id<=10?this._resoucePrefix+"perOther10":this._resoucePrefix+"perOthers"),this._id<=10?(this.listId=new egret.TextField,this.listId.fontFamily="Arial",this.listId.size=24,this.listId.stroke=2,this.listId.strokeColor=1311751,this.listId.text="TOP"+String(this._id),this.listId.textAlign="center",this.listId.anchorOffsetX=.5*this.listId.width,this.listId.anchorOffsetY=.5*this.listId.height,this.listId.rotation=-4,this.listId.x=58,this.listId.y=34,this.listId.textColor=this._isSelf?15964160:16777215,this.addChild(this.listId)):(this.listId2=new egret.TextField,this.listId2.fontFamily="Arial",this.listId2.size=28,this.listId2.text=String(this._id),this.listId2.anchorOffsetX=this.listId2.width,this.listId2.anchorOffsetY=.5*this.listId2.height,this.listId2.x=86,this.listId2.y=34,this.listId2.textColor=this._isSelf?15964160:16777215,this.addChild(this.listId2)),this.textName=new egret.TextField,this.textName.fontFamily="SimHei",this.textName.size=30,this.textName.textColor=16777215,this.textName.bold=!0,this.textName.text=this._name,this.textName.anchorOffsetY=.5*this.textName.height,this.textName.x=130,this.textName.y=34,this.addChild(this.textName),this.textName.textColor=this._id<=3?this._isSelf?15964160:2855415:this._isSelf?15964160:16777215,this._id<=10&&(this.timeIcon=new egret.Bitmap,this.timeIcon.width=32,this.timeIcon.height=32,this.timeIcon.x=374,this.timeIcon.y=18,this.addChild(this.timeIcon),this.timeIcon.texture=RES.getRes(this._isSelf?this._resoucePrefix+"circleSelf":this._id<=3?this._resoucePrefix+"circleTop3":this._resoucePrefix+"circleOther10")),this.timeScore=new egret.TextField,this.timeScore.fontFamily="Arial",this.timeScore.size=30,this.timeScore.textColor=16777215,this.timeScore.text=String(this._score),this.timeScore.anchorOffsetY=.5*this.timeScore.height,this.timeScore.x=416,this.timeScore.y=34,this.addChild(this.timeScore),this.timeScore.textColor=this._id<=3?this._isSelf?15964160:2855415:this._isSelf?15964160:16777215
},e}(egret.DisplayObjectContainer);egret.registerClass(PerRank,"PerRank");var PersonRank=function(t){function e(e,i,s,n){t.call(this),this._resoucePrefix="rank_",this.uid="",this.listURL="ajax.php?flg=5",this._iW=e,this._iH=i,this._scaleRate=s,this.uid=n,this.addEventListener(egret.Event.ADDED_TO_STAGE,this.onAddToStage,this),this.addEventListener(egret.Event.REMOVED_FROM_STAGE,this.removeFromStage,this)}__extends(e,t);var i=(__define,e);return p=i.prototype,p.onAddToStage=function(){this.addMainTitle(),this.addRanks(),this.addBtn(),this.addGreyT(),this.addRedT(),this.introAnim(),this.readList(),this.addEventListener("changeListData",this.changeList,this)},p.removeFromStage=function(){this.removeEventListener("changeListData",this.changeList,this),this.rankPerCT.removeChildren(),this.rankList.removeChild(this.listScroll),this.listScroll=null,this.removeChild(this.rankList),this.rankList=null,this.redTContainer.removeChild(this.redT),this.redT=null,this.removeChild(this.redTContainer),this.redTContainer=null,this.grayTContainer.removeChild(this.grayT),this.grayT=null,this.removeChild(this.grayTContainer),this.grayTContainer=null,this.btnBackContainer.removeChild(this.btnBack),this.btnBack=null,this.removeChild(this.btnBackContainer),this.btnBackContainer=null,this.titleContainer.removeChildren(),this.removeChild(this.titleContainer),this.titleContainer=null},p.addMainTitle=function(){this.titleContainer=new egret.Sprite,this.titleContainer.name="titleCT",this.titleContainer.scaleX=this.titleContainer.scaleY=this._scaleRate,this.addChild(this.titleContainer);for(var t=1;2>=t;t++){switch(this["titlePart_"+t]=new egret.Bitmap(RES.getRes(this._resoucePrefix+"titlePart_"+t)),t){case 1:this["titlePart_"+t].x=-368,this["titlePart_"+t].y=78;break;case 2:this["titlePart_"+t].x=386,this["titlePart_"+t].y=-42}this.titleContainer.addChild(this["titlePart_"+t])}this.mainTitle=new egret.Bitmap(RES.getRes(this._resoucePrefix+"title")),this.mainTitle.anchorOffsetX=.5*this.mainTitle.width,this.mainTitle.anchorOffsetY=.5*this.mainTitle.height,this.mainTitle.x=320,this.mainTitle.y=112,this.mainTitle.scaleX=this.mainTitle.scaleY=3,this.mainTitle.alpha=0,this.titleContainer.addChild(this.mainTitle)},p.addRanks=function(){this.rankList=new egret.Sprite,this.rankList.name="rankListCT",this.rankList.y=214*this._scaleRate,this.rankList.scaleX=this.rankList.scaleY=this._scaleRate,this.addChild(this.rankList),this.rankPerCT=new egret.DisplayObjectContainer,this.listScroll=new egret.ScrollView(this.rankPerCT),this.listScroll.width=640,this.listScroll.height=this._iH/this._scaleRate-214-136+38,this.rankList.addChild(this.listScroll)},p.addBtn=function(){function t(){this.btnBack.texture=RES.getRes(this._resoucePrefix+"btn_Over")}function e(){this.btnBack.texture=RES.getRes(this._resoucePrefix+"btn_Init")}this.btnBackContainer=new egret.Sprite,this.btnBackContainer.name="btnCT",this.btnBackContainer.x=.5*this._iW,this.btnBackContainer.y=this._iH,this.btnBackContainer.scaleX=this.btnBackContainer.scaleY=this._scaleRate,this.addChild(this.btnBackContainer),this.btnBack=new egret.Bitmap,this.btnBack.texture=RES.getRes(this._resoucePrefix+"btn_Init"),this.btnBack.x=-186,this.btnBack.y=0,this.btnBackContainer.addChild(this.btnBack),this.btnBack.addEventListener(egret.TouchEvent.TOUCH_BEGIN,t,this),this.btnBack.addEventListener(egret.TouchEvent.TOUCH_END,e,this),this.btnBack.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onBackToMain,this)},p.onBackToMain=function(){ClickEvent("SHCrarus", "SHCrarus/rarus_List_return_Click", "Click");this.dispatchEvent(new egret.Event("hidePersonRank",!0))},p.addGreyT=function(){this.grayTContainer=new egret.Sprite,this.grayTContainer.name="grayTCT",this.grayTContainer.scaleX=this.grayTContainer.scaleY=this._scaleRate,this.addChild(this.grayTContainer),this.grayT=new egret.Bitmap(RES.getRes(this._resoucePrefix+"blackT")),this.grayT.x=-150,this.grayT.y=-260,this.grayT.scaleX=this.grayT.scaleY=2,this.grayTContainer.addChild(this.grayT)},p.addRedT=function(){this.redTContainer=new egret.Sprite,this.redTContainer.name="redTCT",this.redTContainer.scaleX=this.redTContainer.scaleY=this._scaleRate,this.redTContainer.y=this._iH,this.addChild(this.redTContainer),this.redT=new egret.Bitmap(RES.getRes(this._resoucePrefix+"redT")),this.redT.x=434,this.redT.y=-282,this.redT.scaleX=this.redT.scaleY=2,this.redT.alpha=0,this.redTContainer.addChild(this.redT)},p.introAnim=function(){egret.Tween.get(this.mainTitle).to({scaleX:1,scaleY:1,alpha:1},350,egret.Ease.cubicInOut),egret.Tween.get(this.titlePart_1).wait(250).to({x:0,y:16},200,egret.Ease.cubicInOut),egret.Tween.get(this.titlePart_2).wait(300).to({x:0,y:16},200,egret.Ease.cubicInOut),egret.Tween.get(this.grayT).wait(500).to({scaleX:1,scaleY:1,x:-9,y:6},200,egret.Ease.backOut),egret.Tween.get(this.btnBack).wait(700).to({y:-136},250,egret.Ease.backOut),egret.Tween.get(this.redT).wait(800).to({scaleX:1,scaleY:1,x:509,y:-186,alpha:1},500,egret.Ease.elasticOut)},p.readList=function(){this.btnBack.touchEnabled=!1,this.listLoader=new egret.URLLoader,this.listLoader.dataFormat=egret.URLLoaderDataFormat.TEXT,this.listLoader.addEventListener(egret.Event.COMPLETE,this.onLoadComplete,this),this.listLoader.addEventListener(egret.IOErrorEvent.IO_ERROR,this.onLoadError,this),this.listRequest=new egret.URLRequest(this.listURL+"&rand="+Math.round(1e3*Math.random())),this.listRequest.method=egret.URLRequestMethod.POST,this.listRequest.data=new egret.URLVariables("id="+this.uid),this.listLoader.load(this.listRequest)},p.onLoadComplete=function(t){this.listLoader.removeEventListener(egret.Event.COMPLETE,this.onLoadComplete,this),this.listLoader.removeEventListener(egret.IOErrorEvent.IO_ERROR,this.onLoadError,this),this.btnBack.touchEnabled=!0;for(var e=t.currentTarget.data.split("+|")[1],i=e.split("~|").length,s=Number(t.currentTarget.data.split("+|")[0]),n=0;i>n;n++){if(e.split("~|")[n].split(",")[2])var a=new PerRank(n+s,e.split("~|")[n].split(",")[0],Number(e.split("~|")[n].split(",")[1]),!0);else var a=new PerRank(n+s,e.split("~|")[n].split(",")[0],Number(e.split("~|")[n].split(",")[1]),!1);a.name="perRank_"+(n+1),a.x=28,a.y=54*n,this.rankPerCT.addChild(a)}},p.onLoadError=function(){this.btnBack.touchEnabled=!0,alert("网络连接错误")},p.changeList=function(){this.rankPerCT.removeChildren(),this.readList()},e}(egret.Sprite);egret.registerClass(PersonRank,"PersonRank");var StartGame=function(t){function e(e,i,s){t.call(this),this._resoucePrefix="start_",this.yellowId=0,this._iW=e,this._iH=i,this._scaleRate=s,this.addEventListener(egret.Event.ADDED_TO_STAGE,this.onAddToStage,this),this.addEventListener(egret.Event.REMOVED_FROM_STAGE,this.removeFromStage,this)}__extends(e,t);var i=(__define,e);return p=i.prototype,p.onAddToStage=function(){this.addGreyT(),this.addMainTitle(),this.addRedT(),this.addBtns(),this.addYellowT(),this.addGears(),this.introAnim(),this.addEventListener("pauseStartAnim",this.pauseAnim,this),this.addEventListener("resumeStartAnim",this.resumeAnim,this)},p.removeFromStage=function(){egret.Tween.removeTweens(this.tipPhoneAnim),this.tipContainer.removeChildren(),this.removeChild(this.tipContainer),this.tipContainer=null,this.removeChild(this.tipBg),this.tipBg=null,egret.Tween.removeTweens(this.BtnStart_Over),egret.Tween.removeTweens(this.gear_1S),egret.Tween.removeTweens(this.gear_1),egret.Tween.removeTweens(this.gear_2S),egret.Tween.removeTweens(this.gear_2),this.gearContainer.removeChildren(),this.removeChild(this.gearContainer),this.gearContainer=null,this.btnContainer.removeChildren(),this.removeChild(this.btnContainer),this.btnContainer=null,this.yellowTContainer.removeChild(this.yellowT),this.yellowT=null,this.removeChild(this.yellowTContainer),this.yellowTContainer=null,this.redTContainer.removeChild(this.redT),this.redT=null,this.removeChild(this.redTContainer),this.redTContainer=null,this.titleContainer.removeChildren(),this.removeChild(this.titleContainer),this.titleContainer=null,this.grayTContainer.removeChild(this.grayT),this.grayT=null,this.removeChild(this.grayTContainer),this.grayTContainer=null},p.addGreyT=function(){this.grayTContainer=new egret.Sprite,this.grayTContainer.name="grayTCT",this.grayTContainer.scaleX=this.grayTContainer.scaleY=this._scaleRate,this.addChild(this.grayTContainer),this.grayT=new egret.Bitmap(RES.getRes(this._resoucePrefix+"grayT")),this.grayT.x=8,this.grayT.y=-130,this.grayTContainer.addChild(this.grayT)},p.addMainTitle=function(){this.titleContainer=new egret.Sprite,this.titleContainer.name="titleCT",this.titleContainer.scaleX=this.titleContainer.scaleY=this._scaleRate,this.addChild(this.titleContainer);for(var t=1;3>=t;t++)switch(this["titlePart_"+t]=new egret.Bitmap(RES.getRes(this._resoucePrefix+"titlePart_"+t)),this.titleContainer.addChild(this["titlePart_"+t]),t){case 1:this["titlePart_"+t].anchorOffsetX=this["titlePart_"+t].width,this["titlePart_"+t].anchorOffsetY=this["titlePart_"+t].height,this["titlePart_"+t].x=234,this["titlePart_"+t].y=248;break;case 2:this["titlePart_"+t].anchorOffsetY=this["titlePart_"+t].height,this["titlePart_"+t].x=350,this["titlePart_"+t].y=234;break;case 3:this["titlePart_"+t].anchorOffsetX=this["titlePart_"+t].width,this["titlePart_"+t].x=126,this["titlePart_"+t].y=266}this.subTitle=new egret.Bitmap(RES.getRes(this._resoucePrefix+"subTitle")),this.subTitle.x=-554,this.subTitle.y=394,this.titleContainer.addChild(this.subTitle),this.mainTitle=new egret.Bitmap(RES.getRes(this._resoucePrefix+"mainTitle")),this.mainTitle.anchorOffsetX=.5*this.mainTitle.width,this.mainTitle.anchorOffsetY=.5*this.mainTitle.height,this.mainTitle.x=324,this.mainTitle.y=220,this.mainTitle.scaleX=this.mainTitle.scaleY=3,this.mainTitle.alpha=0,this.titleContainer.addChild(this.mainTitle)},p.addRedT=function(){this.redTContainer=new egret.Sprite,this.redTContainer.name="redTCT",this.redTContainer.scaleX=this.redTContainer.scaleY=this._scaleRate,this.addChild(this.redTContainer),this.redT=new egret.Bitmap(RES.getRes(this._resoucePrefix+"redT")),this.redT.scaleX=this.redT.scaleY=2,this.redT.x=444,this.redT.y=98,this.redT.alpha=0,this.redTContainer.addChild(this.redT)},p.addBtns=function(){function t(){egret.Tween.removeTweens(this.BtnStart_Over),this.BtnStart_Over.alpha=1}function e(){egret.Tween.get(this.BtnStart_Over,{loop:!0}).to({alpha:0},1e3).to({alpha:1},1e3)}function i(t){t.currentTarget.texture=RES.getRes(this._resoucePrefix+"btnRule_Over")}function s(t){t.currentTarget.texture=RES.getRes(this._resoucePrefix+"btnRule_Init")}function n(t){t.currentTarget.texture=RES.getRes(this._resoucePrefix+"btnRank_Over")}function a(t){t.currentTarget.texture=RES.getRes(this._resoucePrefix+"btnRank_Init")}this.btnContainer=new egret.Sprite,this.btnContainer.name="btnCT",this.btnContainer.x=.5*this._iW,this.btnContainer.y=this._iH*(678/958),this.btnContainer.scaleX=this.btnContainer.scaleY=this._scaleRate,this.addChild(this.btnContainer),this.btnBg=new egret.Bitmap(RES.getRes(this._resoucePrefix+"btnBg")),this.btnBg.x=-170,this.btnBg.y=-148,this.btnBg.alpha=0,this.btnContainer.addChild(this.btnBg),this.btnRule=new egret.Bitmap,this.btnRule.texture=RES.getRes(this._resoucePrefix+"btnRule_Init"),this.btnRule.x=-218,this.btnRule.y=64,this.btnRule.alpha=0,this.btnContainer.addChild(this.btnRule),this.btnRank=new egret.Bitmap,this.btnRank.texture=RES.getRes(this._resoucePrefix+"btnRank_Init"),this.btnRank.x=-218,this.btnRank.y=-52,this.btnRank.alpha=0,this.btnContainer.addChild(this.btnRank),this.btnLine=new egret.Bitmap,this.btnLine.texture=RES.getRes(this._resoucePrefix+"btnLine"),this.btnLine.x=-242,this.btnLine.y=-180,this.btnLine.alpha=0,this.btnContainer.addChild(this.btnLine),this.btnStart=new egret.Sprite,this.btnStart.x=-218,this.btnStart.y=-166,this.btnStart.alpha=0,this.btnContainer.addChild(this.btnStart),this.BtnStart_Init=new egret.Bitmap(RES.getRes(this._resoucePrefix+"btnStart_Init")),this.BtnStart_Over=new egret.Bitmap(RES.getRes(this._resoucePrefix+"btnStart_Over")),this.btnStart.addChild(this.BtnStart_Init),this.btnStart.addChild(this.BtnStart_Over),egret.Tween.get(this.BtnStart_Over,{loop:!0}).to({alpha:0},1e3).to({alpha:1},1e3),this.btnStart.touchEnabled=!0,this.btnStart.addEventListener(egret.TouchEvent.TOUCH_BEGIN,t,this),this.btnStart.addEventListener(egret.TouchEvent.TOUCH_END,e,this),this.btnStart.addEventListener(egret.TouchEvent.TOUCH_TAP,this.showTip,this),this.btnRule.touchEnabled=!0,this.btnRule.addEventListener(egret.TouchEvent.TOUCH_BEGIN,i,this),this.btnRule.addEventListener(egret.TouchEvent.TOUCH_END,s,this),this.btnRule.addEventListener(egret.TouchEvent.TOUCH_TAP,this.showRule,this),this.btnRank.touchEnabled=!0,this.btnRank.addEventListener(egret.TouchEvent.TOUCH_BEGIN,n,this),this.btnRank.addEventListener(egret.TouchEvent.TOUCH_END,a,this),this.btnRank.addEventListener(egret.TouchEvent.TOUCH_TAP,this.showRank,this)},p.showRank=function(){ClickEvent("SHCrarus", "SHCrarus/rarus_Start_list_Click", "Click");this.dispatchEvent(new egret.Event("showRank",!0))},p.showRule=function(){ClickEvent("SHCrarus", "SHCrarus/rarus_Start_rules_Click", "Click");this.dispatchEvent(new egret.Event("showRule",!0))},p.showTip=function(){ClickEvent("SHCrarus", "SHCrarus/rarus_Start_start_game_Click", "Click");this.pauseAnim(),this.createTip()},p.createTip=function(){function t(){ClickEvent("SHCrarus", "SHCrarus/rarus_Pop_skip_Click", "Click");this.dispatchEvent(new egret.Event("skipToGame",!0))}this.tipBg=new egret.Shape,this.tipBg.graphics.beginFill(0),this.tipBg.graphics.drawRect(0,0,this._iW,this._iH),this.tipBg.graphics.endFill(),this.tipBg.alpha=.9,this.addChild(this.tipBg),this.tipBg.touchEnabled=!0,this.tipContainer=new egret.Sprite,this.tipContainer.scaleX=this.tipContainer.scaleY=this._scaleRate,this.tipContainer.x=.5*this._iW,this.tipContainer.y=.5*this._iH-60,this.addChild(this.tipContainer),this.tipPhoneAnim=new egret.Bitmap(RES.getRes(this._resoucePrefix+"tipPhone")),this.tipPhoneAnim.anchorOffsetX=.5*this.tipPhoneAnim.width,this.tipPhoneAnim.anchorOffsetY=this.tipPhoneAnim.height,this.tipPhoneAnim.x=0,this.tipPhoneAnim.y=0,this.tipPhoneAnim.rotation=16,this.tipContainer.addChild(this.tipPhoneAnim),egret.Tween.get(this.tipPhoneAnim,{loop:!0}).to({rotation:-16},1e3).to({rotation:16},1e3),this.tipTxt=new egret.Bitmap(RES.getRes(this._resoucePrefix+"tipTxt")),this.tipTxt.anchorOffsetX=.5*this.tipTxt.width,this.tipTxt.anchorOffsetY=-30,this.tipTxt.x=0,this.tipTxt.y=0,this.tipContainer.addChild(this.tipTxt),this.tipSkip=new egret.Bitmap(RES.getRes(this._resoucePrefix+"tipSkip")),this.tipSkip.anchorOffsetX=.5*this.tipSkip.width,this.tipSkip.anchorOffsetY=0,this.tipSkip.x=0,this.tipSkip.y=250,this.tipContainer.addChild(this.tipSkip),this.tipSkip.touchEnabled=!0,this.tipSkip.addEventListener(egret.TouchEvent.TOUCH_TAP,t,this)},p.addYellowT=function(){this.yellowTContainer=new egret.Sprite,this.yellowTContainer.name="yellowTCT",this.yellowTContainer.scaleX=this.yellowTContainer.scaleY=this._scaleRate,this.addChild(this.yellowTContainer),this.yellowT=new egret.Bitmap,this.yellowT.anchorOffsetX=this.yellowT.width=408,this.yellowT.x=198,this.yellowT.y=416,this.yellowTContainer.addChild(this.yellowT)},p.addGears=function(){this.gearContainer=new egret.Sprite,this.gearContainer.name="gearCT",this.gearContainer.y=this._iH+220*this._scaleRate,this.gearContainer.scaleX=this.gearContainer.scaleY=this._scaleRate,this.addChild(this.gearContainer),this.gear_1S=new egret.Bitmap(RES.getRes(this._resoucePrefix+"gear_1_Shadow")),this.gear_1S.anchorOffsetX=202,this.gear_1S.anchorOffsetY=220,this.gear_1S.x=52,this.gear_1S.y=8,this.gearContainer.addChild(this.gear_1S),this.gear_2S=new egret.Bitmap(RES.getRes(this._resoucePrefix+"gear_2_Shadow")),this.gear_2S.anchorOffsetX=136,this.gear_2S.anchorOffsetY=134,this.gear_2S.x=594,this.gear_2S.y=-2,this.gearContainer.addChild(this.gear_2S),this.gear_1=new egret.Bitmap(RES.getRes(this._resoucePrefix+"gear_1")),this.gear_1.anchorOffsetX=204,this.gear_1.anchorOffsetY=198,this.gear_1.x=56,this.gear_1.y=-16,this.gearContainer.addChild(this.gear_1),this.gear_2=new egret.Bitmap(RES.getRes(this._resoucePrefix+"gear_2")),this.gear_2.anchorOffsetX=130,this.gear_2.anchorOffsetY=120,this.gear_2.x=588,this.gear_2.y=-16,this.gearContainer.addChild(this.gear_2),egret.Tween.get(this.gear_1S,{loop:!0}).to({rotation:360},8e3),egret.Tween.get(this.gear_2S,{loop:!0}).to({rotation:-360},8e3),egret.Tween.get(this.gear_1,{loop:!0}).to({rotation:360},8e3),egret.Tween.get(this.gear_2,{loop:!0}).to({rotation:-360},8e3)},p.introAnim=function(){egret.Tween.get(this.mainTitle).to({scaleX:1,scaleY:1,alpha:1},250,egret.Ease.cubicInOut),egret.Tween.get(this.titlePart_1).wait(200).to({x:200,y:134},250,egret.Ease.backOut),egret.Tween.get(this.titlePart_2).wait(200).to({x:348,y:106},250,egret.Ease.backOut),egret.Tween.get(this.titlePart_3).wait(200).to({x:126,y:350},250,egret.Ease.backOut),egret.Tween.get(this.grayT).wait(400).to({y:52},250,egret.Ease.backOut),egret.Tween.get(this.subTitle).wait(450).to({x:42,y:324},250,egret.Ease.backOut),egret.Tween.get(this.redT).wait(700).to({scaleX:1,scaleY:1,x:512,y:186,alpha:1},750,egret.Ease.elasticOut),egret.Tween.get(this.gearContainer).wait(900).to({y:this._iH},400,egret.Ease.backOut),egret.Tween.get(this.btnStart).wait(1200).to({y:-206,alpha:1},350,egret.Ease.backOut),egret.Tween.get(this.btnRank).wait(1300).to({y:-92,alpha:1},350,egret.Ease.backOut),egret.Tween.get(this.btnRule).wait(1400).to({y:24,alpha:1},350,egret.Ease.backOut),egret.Tween.get(this.btnBg).wait(1800).to({alpha:1},350),egret.Tween.get(this.btnLine).wait(1900).to({alpha:1},350),this.yellowTDelayShow=egret.setTimeout(this.showYellowAnim,this,1500)},p.showYellowAnim=function(){this.yellowTAnimTimer=new egret.Timer(80,9),this.yellowTAnimTimer.addEventListener(egret.TimerEvent.TIMER,this.goYellowAnim,this),this.yellowTAnimTimer.start()},p.goYellowAnim=function(){this.yellowId++,this.yellowT.texture=RES.getRes(this._resoucePrefix+"yellowT"+this.yellowId)},p.pauseAnim=function(t){void 0===t&&(t=null),egret.Tween.pauseTweens(this.BtnStart_Over),egret.Tween.pauseTweens(this.gear_1S),egret.Tween.pauseTweens(this.gear_1),egret.Tween.pauseTweens(this.gear_2S),egret.Tween.pauseTweens(this.gear_2)},p.resumeAnim=function(t){void 0===t&&(t=null),egret.Tween.resumeTweens(this.BtnStart_Over),egret.Tween.resumeTweens(this.gear_1S),egret.Tween.resumeTweens(this.gear_1),egret.Tween.resumeTweens(this.gear_2S),egret.Tween.resumeTweens(this.gear_2)},e}(egret.Sprite);egret.registerClass(StartGame,"StartGame");var SuccessGame=function(t){function e(e,i,s,n){t.call(this),this._resoucePrefix="success_",this.listURL="ajax.php?flg=4",this.upScoreURL="ajax.php?flg=2",this._iW=e,this._iH=i,this._scaleRate=s,this._uScore=n,this.addEventListener(egret.Event.ADDED_TO_STAGE,this.onAddToStage,this)}__extends(e,t);var i=(__define,e);return p=i.prototype,p.onAddToStage=function(){this.addGrayT(),this.addMainTitle(),this.addRedT(),this.addBtns(),this.addRank(),this.introAnim(),this.getTop3(),this.addEventListener("changeScore",this.changeScore,this)},p.addGrayT=function(){this.grayTContainer=new egret.Sprite,this.grayTContainer.name="grayTCT",this.grayTContainer.scaleX=this.grayTContainer.scaleY=this._scaleRate,this.addChild(this.grayTContainer),this.grayT=new egret.Bitmap(RES.getRes(this._resoucePrefix+"grayT")),this.grayT.x=8,this.grayT.y=-110,this.grayTContainer.addChild(this.grayT)},p.addMainTitle=function(){switch(this.titleContainer=new egret.Sprite,this.titleContainer.name="titleCT",this.titleContainer.scaleX=this.titleContainer.scaleY=this._scaleRate,this.addChild(this.titleContainer),this.scoreBar=new egret.DisplayObjectContainer,this.scoreBar.x=50,this.scoreBar.y=70,this.scoreBar.alpha=0,this.titleContainer.addChild(this.scoreBar),this.scoreBarBg=new egret.Bitmap(RES.getRes(this._resoucePrefix+"scoreBg")),this.scoreBar.addChild(this.scoreBarBg),this.scoreText=new egret.DisplayObjectContainer,this.scoreText.x=38,this.scoreText.y=20,this._uScore.length){case 1:for(var t=1;10>=t;t++){var e=new egret.TextField;e.name="tF_"+t,e.fontFamily="Arial",e.bold=!0,e.textColor=16777215,e.size=90,e.stroke=4,e.strokeColor=7482,4>=t&&(e.x=45*(t-1)),t>4&&8>=t&&(e.x=45*(t-1)-24),t>8&&(e.x=45*(t-1)-48),e.text="0",(4==t||8==t)&&(e.text=","),this.scoreText.addChild(e)}break;case 3:for(var t=1;10>=t;t++){var e=new egret.TextField;e.name="tF_"+t,e.fontFamily="Arial",e.bold=!0,e.textColor=16777215,e.size=90,e.stroke=4,e.strokeColor=7482,4>=t&&(e.x=45*(t-1)),t>4&&8>=t&&(e.x=45*(t-1)-24),t>8&&(e.x=45*(t-1)-48),e.text="0",(4==t||8==t)&&(e.text=","),7==t&&(e.text=this._uScore.substr(0,1)),this.scoreText.addChild(e)}break;case 4:for(var t=1;10>=t;t++){var e=new egret.TextField;e.name="tF_"+t,e.fontFamily="Arial",e.bold=!0,e.textColor=16777215,e.size=90,e.stroke=4,e.strokeColor=7482,4>=t&&(e.x=45*(t-1)),t>4&&8>=t&&(e.x=45*(t-1)-24),t>8&&(e.x=45*(t-1)-48),e.text="0",(4==t||8==t)&&(e.text=","),6==t&&(e.text=this._uScore.substr(0,1)),7==t&&(e.text=this._uScore.substr(1,1)),this.scoreText.addChild(e)}break;case 5:for(var t=1;10>=t;t++){var e=new egret.TextField;e.name="tF_"+t,e.fontFamily="Arial",e.bold=!0,e.textColor=16777215,e.size=90,e.stroke=4,e.strokeColor=7482,4>=t&&(e.x=45*(t-1)),t>4&&8>=t&&(e.x=45*(t-1)-24),t>8&&(e.x=45*(t-1)-48),e.text="0",(4==t||8==t)&&(e.text=","),5==t&&(e.text=this._uScore.substr(0,1)),6==t&&(e.text=this._uScore.substr(1,1)),7==t&&(e.text=this._uScore.substr(2,1)),this.scoreText.addChild(e)}break;case 6:for(var t=1;10>=t;t++){var e=new egret.TextField;e.name="tF_"+t,e.fontFamily="Arial",e.bold=!0,e.textColor=16777215,e.size=90,e.stroke=4,e.strokeColor=7482,4>=t&&(e.x=45*(t-1)),t>4&&8>=t&&(e.x=45*(t-1)-24),t>8&&(e.x=45*(t-1)-48),e.text="0",(4==t||8==t)&&(e.text=","),3==t&&(e.text=this._uScore.substr(0,1)),5==t&&(e.text=this._uScore.substr(1,1)),6==t&&(e.text=this._uScore.substr(2,1)),7==t&&(e.text=this._uScore.substr(3,1)),this.scoreText.addChild(e)}break;case 7:for(var t=1;10>=t;t++){var e=new egret.TextField;e.name="tF_"+t,e.fontFamily="Arial",e.bold=!0,e.textColor=16777215,e.size=90,e.stroke=4,e.strokeColor=7482,4>=t&&(e.x=45*(t-1)),t>4&&8>=t&&(e.x=45*(t-1)-24),t>8&&(e.x=45*(t-1)-48),e.text="0",(4==t||8==t)&&(e.text=","),2==t&&(e.text=this._uScore.substr(0,1)),3==t&&(e.text=this._uScore.substr(1,1)),5==t&&(e.text=this._uScore.substr(2,1)),6==t&&(e.text=this._uScore.substr(3,1)),7==t&&(e.text=this._uScore.substr(4,1)),this.scoreText.addChild(e)}break;case 8:for(var t=1;10>=t;t++){var e=new egret.TextField;e.name="tF_"+t,e.fontFamily="Arial",e.bold=!0,e.textColor=16777215,e.size=90,e.stroke=4,e.strokeColor=7482,4>=t&&(e.x=45*(t-1)),t>4&&8>=t&&(e.x=45*(t-1)-24),t>8&&(e.x=45*(t-1)-48),e.text="0",(4==t||8==t)&&(e.text=","),1==t&&(e.text=this._uScore.substr(0,1)),2==t&&(e.text=this._uScore.substr(1,1)),3==t&&(e.text=this._uScore.substr(2,1)),5==t&&(e.text=this._uScore.substr(3,1)),6==t&&(e.text=this._uScore.substr(4,1)),7==t&&(e.text=this._uScore.substr(5,1)),this.scoreText.addChild(e)}}this.scoreBar.addChild(this.scoreText);for(var t=1;3>=t;t++)switch(this["titlePart_"+t]=new egret.Bitmap(RES.getRes(this._resoucePrefix+"titlePart_"+t)),this.titleContainer.addChild(this["titlePart_"+t]),t){case 1:this["titlePart_"+t].anchorOffsetX=this["titlePart_"+t].width,this["titlePart_"+t].anchorOffsetY=this["titlePart_"+t].height-16,this["titlePart_"+t].x=174,this["titlePart_"+t].y=114;break;case 2:this["titlePart_"+t].anchorOffsetY=this["titlePart_"+t].height,this["titlePart_"+t].x=366,this["titlePart_"+t].y=146;break;case 3:this["titlePart_"+t].anchorOffsetX=this["titlePart_"+t].width,this["titlePart_"+t].x=398,this["titlePart_"+t].y=74}this.mainTitle=new egret.Bitmap(RES.getRes(this._resoucePrefix+"mainTitle")),this.mainTitle.anchorOffsetX=.5*this.mainTitle.width,this.mainTitle.anchorOffsetY=.5*this.mainTitle.height,this.mainTitle.x=320,this.mainTitle.y=102,this.mainTitle.scaleX=this.mainTitle.scaleY=2,this.mainTitle.alpha=0,this.titleContainer.addChild(this.mainTitle)},p.addRedT=function(){this.redTContainer=new egret.Sprite,this.redTContainer.name="redTCT",this.redTContainer.scaleX=this.redTContainer.scaleY=this._scaleRate,this.addChild(this.redTContainer),this.redT=new egret.Bitmap(RES.getRes(this._resoucePrefix+"redT")),this.redT.scaleX=this.redT.scaleY=2,this.redT.x=430,this.redT.y=254,this.redT.alpha=0,this.redTContainer.addChild(this.redT)},p.addBtns=function(){function t(t){t.currentTarget.texture=RES.getRes(this._resoucePrefix+"btnResetOver")}function e(t){t.currentTarget.texture=RES.getRes(this._resoucePrefix+"btnResetInit")}function i(t){t.currentTarget.texture=RES.getRes(this._resoucePrefix+"btnProOver")}function s(t){t.currentTarget.texture=RES.getRes(this._resoucePrefix+"btnProInit")}function n(t){t.currentTarget.texture=RES.getRes(this._resoucePrefix+"btnSignUpOver")}function a(t){t.currentTarget.texture=RES.getRes(this._resoucePrefix+"btnSignUpInit")}function r(t){t.currentTarget.texture=RES.getRes(this._resoucePrefix+"btnUploadOver")}function h(t){t.currentTarget.texture=RES.getRes(this._resoucePrefix+"btnUploadInit")}this.btnContainer=new egret.Sprite,this.btnContainer.name="btnCT",this.btnContainer.x=.5*this._iW,this.btnContainer.y=this._iH*(422/958),this.btnContainer.scaleX=this.btnContainer.scaleY=this._scaleRate,this.addChild(this.btnContainer),this.btnReset=new egret.Bitmap(RES.getRes(this._resoucePrefix+"btnResetInit")),this.btnReset.x=-158,this.btnReset.y=-108,this.btnReset.alpha=0,this.btnContainer.addChild(this.btnReset),this.btnReset.touchEnabled=!0,this.btnReset.addEventListener(egret.TouchEvent.TOUCH_BEGIN,t,this),this.btnReset.addEventListener(egret.TouchEvent.TOUCH_END,e,this),this.btnReset.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onResetGame,this),this.btnPro=new egret.Bitmap(RES.getRes(this._resoucePrefix+"btnProInit")),this.btnPro.x=-182,this.btnPro.y=50,this.btnPro.alpha=0,this.btnContainer.addChild(this.btnPro),this.btnPro.touchEnabled=!0,this.btnPro.addEventListener(egret.TouchEvent.TOUCH_BEGIN,i,this),this.btnPro.addEventListener(egret.TouchEvent.TOUCH_END,s,this),this.btnPro.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onProTAP,this),this.btnSignUp=new egret.Bitmap(RES.getRes(this._resoucePrefix+"btnSignUpInit")),this.btnSignUp.x=-162,this.btnSignUp.y=-24,this.btnSignUp.alpha=0,this.btnContainer.addChild(this.btnSignUp),this.btnSignUp.touchEnabled=!0,this.btnSignUp.addEventListener(egret.TouchEvent.TOUCH_BEGIN,n,this),this.btnSignUp.addEventListener(egret.TouchEvent.TOUCH_END,a,this),this.btnSignUp.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onSignTap,this),this.btnUploadScore=new egret.Bitmap(RES.getRes(this._resoucePrefix+"btnUploadInit")),this.btnUploadScore.x=-162,this.btnUploadScore.y=-58,this.btnUploadScore.visible=!1,this.btnContainer.addChild(this.btnUploadScore),this.btnUploadScore.touchEnabled=!0,this.btnUploadScore.addEventListener(egret.TouchEvent.TOUCH_BEGIN,r,this),this.btnUploadScore.addEventListener(egret.TouchEvent.TOUCH_END,h,this),this.btnUploadScore.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onUpScTap,this)},p.onResetGame=function(){ClickEvent("SHCrarus", "SHCrarus/rarus_End_play_again_Click", "Click");this.dispatchEvent(new egret.Event("successRestart",!0))},p.onSignTap=function(){ClickEvent("SHCrarus", "SHCrarus/rarus_End_register_prize_Click", "Click");this.dispatchEvent(new egret.Event("successSignup",!0))},p.onProTAP=function(){ClickEvent("SHCrarus", "SHCrarus/rarus_End_understand_products_Click", "Click");window.location.href="6-Mobil SHC Rarus Series sell sheet(210x285mm).compressed.pdf"},p.onUpScTap=function(){this.upScoreLoader=new egret.URLLoader,this.upScoreLoader.dataFormat=egret.URLLoaderDataFormat.TEXT,this.upScoreLoader.addEventListener(egret.Event.COMPLETE,this.checkHandle,this),this.upScoreLoader.addEventListener(egret.IOErrorEvent.IO_ERROR,this.checkHandle,this),this.upScoreRequest=new egret.URLRequest(this.upScoreURL+"&rand="+Math.round(1e3*Math.random())),this.upScoreRequest.method=egret.URLRequestMethod.POST,this.upScoreVariables=new egret.URLVariables("userName="+this._uName+"&phone="+this._uPhone+"&score="+this._uScore),this.upScoreRequest.data=this.upScoreVariables,this.upScoreLoader.load(this.upScoreRequest)},p.checkHandle=function(t){switch(this.upScoreLoader.removeEventListener(egret.Event.COMPLETE,this.checkHandle,this),this.upScoreLoader.removeEventListener(egret.IOErrorEvent.IO_ERROR,this.checkHandle,this),t.type){case egret.Event.COMPLETE:alert(t.currentTarget.data>0?"分数更新成功":"更新失败");break;case egret.IOErrorEvent.IO_ERROR:alert("网络连接错误")}},p.addRank=function(){function t(t){t.currentTarget.texture=RES.getRes(this._resoucePrefix+"btnRankOver")}function e(t){t.currentTarget.texture=RES.getRes(this._resoucePrefix+"btnRankInit")}this.rankContainer=new egret.Sprite,this.rankContainer.name="rankCT",this.rankContainer.x=.5*this._iW,this.rankContainer.y=this._iH,this.rankContainer.scaleX=this.rankContainer.scaleY=this._scaleRate,this.addChild(this.rankContainer),this.rankTitle=new egret.Bitmap(RES.getRes(this._resoucePrefix+"rankTitle")),this.rankTitle.x=-144,this.rankTitle.y=-350,this.rankTitle.alpha=0,this.rankContainer.addChild(this.rankTitle),this.ranks=new egret.Sprite,this.ranks.x=400,this.ranks.y=-280,this.rankContainer.addChild(this.ranks),this.rankBg=new egret.Bitmap(RES.getRes(this._resoucePrefix+"rankBg")),this.ranks.addChild(this.rankBg),this.rankName_1=new egret.TextField,this.rankName_2=new egret.TextField,this.rankName_3=new egret.TextField,this.rankName_1.fontFamily=this.rankName_2.fontFamily=this.rankName_3.fontFamily="SimHei",this.rankName_1.size=this.rankName_2.size=this.rankName_3.size=30,this.rankName_1.textColor=this.rankName_2.textColor=this.rankName_3.textColor=2855415,this.rankName_1.bold=this.rankName_2.bold=this.rankName_3.bold=!0,this.rankName_1.anchorOffsetY=.5*this.rankName_1.height,this.rankName_2.anchorOffsetY=.5*this.rankName_2.height,this.rankName_3.anchorOffsetY=.5*this.rankName_3.height,this.rankName_1.x=this.rankName_2.x=this.rankName_3.x=132,this.rankName_1.y=18,this.rankName_2.y=72,this.rankName_3.y=126,this.ranks.addChild(this.rankName_1),this.ranks.addChild(this.rankName_2),this.ranks.addChild(this.rankName_3),this.rankScore_1=new egret.TextField,this.rankScore_2=new egret.TextField,this.rankScore_3=new egret.TextField,this.rankScore_1.fontFamily=this.rankScore_2.fontFamily=this.rankScore_3.fontFamily="Arial",this.rankScore_1.size=this.rankScore_2.size=this.rankScore_3.size=30,this.rankScore_1.textColor=this.rankScore_2.textColor=this.rankScore_3.textColor=2855415,this.rankScore_1.anchorOffsetY=.5*this.rankScore_1.height,this.rankScore_2.anchorOffsetY=.5*this.rankScore_2.height,this.rankScore_3.anchorOffsetY=.5*this.rankScore_3.height,this.rankScore_1.x=this.rankScore_2.x=this.rankScore_3.x=416,this.rankScore_1.y=18,this.rankScore_2.y=72,this.rankScore_3.y=126,this.ranks.addChild(this.rankScore_1),this.ranks.addChild(this.rankScore_2),this.ranks.addChild(this.rankScore_3),this.btnRank=new egret.Bitmap(RES.getRes(this._resoucePrefix+"btnRankInit")),this.btnRank.x=-186,this.btnRank.y=0,this.rankContainer.addChild(this.btnRank),this.btnRank.touchEnabled=!0,this.btnRank.addEventListener(egret.TouchEvent.TOUCH_BEGIN,t,this),this.btnRank.addEventListener(egret.TouchEvent.TOUCH_END,e,this),this.btnRank.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onShowRank,this)},p.onShowRank=function(){ClickEvent("SHCrarus", "SHCrarus/rarus_End_all_list_Click", "Click");this.dispatchEvent(null==this._uName||""==this._uName||null==this._uPhone?new egret.Event("showRankFromSuccess",!0):new egret.Event("showRankFromSigned",!0))},p.introAnim=function(){egret.Tween.get(this.mainTitle).to({scaleX:1,scaleY:1,alpha:1},250,egret.Ease.cubicInOut),egret.Tween.get(this.titlePart_1).wait(200).to({x:156,y:62},250,egret.Ease.backOut),egret.Tween.get(this.titlePart_2).wait(200).to({x:372,y:72},250,egret.Ease.backOut),egret.Tween.get(this.titlePart_3).wait(200).to({x:360,y:124},250,egret.Ease.backOut),egret.Tween.get(this.grayT).wait(400).to({y:-4},250,egret.Ease.backOut),egret.Tween.get(this.scoreBar).wait(500).to({y:169,alpha:1},350,egret.Ease.backOut),egret.Tween.get(this.redT).wait(500).to({scaleX:1,scaleY:1,x:500,y:345,alpha:1},750,egret.Ease.elasticOut),egret.Tween.get(this.rankTitle).wait(600).to({y:-384,alpha:1},350,egret.Ease.cubicInOut),egret.Tween.get(this.ranks).wait(600).to({x:-292},350,egret.Ease.backOut),egret.Tween.get(this.btnRank).wait(750).to({y:-144},350,egret.Ease.backOut),egret.Tween.get(this.btnReset).wait(1e3).to({y:-148,alpha:1},350,egret.Ease.backOut),egret.Tween.get(this.btnSignUp).wait(1100).to({y:-64,alpha:1},350,egret.Ease.backOut),egret.Tween.get(this.btnPro).wait(1200).to({y:9,alpha:1},350,egret.Ease.backOut)
},p.getTop3=function(){this.listLoader=new egret.URLLoader,this.listLoader.dataFormat=egret.URLLoaderDataFormat.TEXT,this.listLoader.addEventListener(egret.Event.COMPLETE,this.onLoadComplete,this),this.listLoader.addEventListener(egret.IOErrorEvent.IO_ERROR,this.onLoadError,this),this.listRequest=new egret.URLRequest(this.listURL+"&rand="+Math.round(1e3*Math.random())),this.listLoader.load(this.listRequest)},p.onLoadComplete=function(t){this.listLoader.removeEventListener(egret.Event.COMPLETE,this.onLoadComplete,this),this.listLoader.removeEventListener(egret.IOErrorEvent.IO_ERROR,this.onLoadError,this);for(var e=t.currentTarget.data,i=(e.split("~|").length,0);3>i;i++)this["rankName_"+(i+1)].text=e.split("~|")[i].split(",")[0],this["rankScore_"+(i+1)].text=e.split("~|")[i].split(",")[1]},p.onLoadError=function(){alert("网络连接错误")},p.changeScore=function(){switch(this.scoreText.removeChildren(),this.getTop3(),this._uScore.length){case 1:for(var t=1;10>=t;t++){var e=new egret.TextField;e.name="tF_"+t,e.fontFamily="Arial",e.bold=!0,e.textColor=16777215,e.size=90,e.stroke=4,e.strokeColor=7482,4>=t&&(e.x=45*(t-1)),t>4&&8>=t&&(e.x=45*(t-1)-24),t>8&&(e.x=45*(t-1)-48),e.text="0",(4==t||8==t)&&(e.text=","),this.scoreText.addChild(e)}break;case 3:for(var t=1;10>=t;t++){var e=new egret.TextField;e.name="tF_"+t,e.fontFamily="Arial",e.bold=!0,e.textColor=16777215,e.size=90,e.stroke=4,e.strokeColor=7482,4>=t&&(e.x=45*(t-1)),t>4&&8>=t&&(e.x=45*(t-1)-24),t>8&&(e.x=45*(t-1)-48),e.text="0",(4==t||8==t)&&(e.text=","),7==t&&(e.text=this._uScore.substr(0,1)),this.scoreText.addChild(e)}break;case 4:for(var t=1;10>=t;t++){var e=new egret.TextField;e.name="tF_"+t,e.fontFamily="Arial",e.bold=!0,e.textColor=16777215,e.size=90,e.stroke=4,e.strokeColor=7482,4>=t&&(e.x=45*(t-1)),t>4&&8>=t&&(e.x=45*(t-1)-24),t>8&&(e.x=45*(t-1)-48),e.text="0",(4==t||8==t)&&(e.text=","),6==t&&(e.text=this._uScore.substr(0,1)),7==t&&(e.text=this._uScore.substr(1,1)),this.scoreText.addChild(e)}break;case 5:for(var t=1;10>=t;t++){var e=new egret.TextField;e.name="tF_"+t,e.fontFamily="Arial",e.bold=!0,e.textColor=16777215,e.size=90,e.stroke=4,e.strokeColor=7482,4>=t&&(e.x=45*(t-1)),t>4&&8>=t&&(e.x=45*(t-1)-24),t>8&&(e.x=45*(t-1)-48),e.text="0",(4==t||8==t)&&(e.text=","),5==t&&(e.text=this._uScore.substr(0,1)),6==t&&(e.text=this._uScore.substr(1,1)),7==t&&(e.text=this._uScore.substr(2,1)),this.scoreText.addChild(e)}break;case 6:for(var t=1;10>=t;t++){var e=new egret.TextField;e.name="tF_"+t,e.fontFamily="Arial",e.bold=!0,e.textColor=16777215,e.size=90,e.stroke=4,e.strokeColor=7482,4>=t&&(e.x=45*(t-1)),t>4&&8>=t&&(e.x=45*(t-1)-24),t>8&&(e.x=45*(t-1)-48),e.text="0",(4==t||8==t)&&(e.text=","),3==t&&(e.text=this._uScore.substr(0,1)),5==t&&(e.text=this._uScore.substr(1,1)),6==t&&(e.text=this._uScore.substr(2,1)),7==t&&(e.text=this._uScore.substr(3,1)),this.scoreText.addChild(e)}break;case 7:for(var t=1;10>=t;t++){var e=new egret.TextField;e.name="tF_"+t,e.fontFamily="Arial",e.bold=!0,e.textColor=16777215,e.size=90,e.stroke=4,e.strokeColor=7482,4>=t&&(e.x=45*(t-1)),t>4&&8>=t&&(e.x=45*(t-1)-24),t>8&&(e.x=45*(t-1)-48),e.text="0",(4==t||8==t)&&(e.text=","),2==t&&(e.text=this._uScore.substr(0,1)),3==t&&(e.text=this._uScore.substr(1,1)),5==t&&(e.text=this._uScore.substr(2,1)),6==t&&(e.text=this._uScore.substr(3,1)),7==t&&(e.text=this._uScore.substr(4,1)),this.scoreText.addChild(e)}break;case 8:for(var t=1;10>=t;t++){var e=new egret.TextField;e.name="tF_"+t,e.fontFamily="Arial",e.bold=!0,e.textColor=16777215,e.size=90,e.stroke=4,e.strokeColor=7482,4>=t&&(e.x=45*(t-1)),t>4&&8>=t&&(e.x=45*(t-1)-24),t>8&&(e.x=45*(t-1)-48),e.text="0",(4==t||8==t)&&(e.text=","),1==t&&(e.text=this._uScore.substr(0,1)),2==t&&(e.text=this._uScore.substr(1,1)),3==t&&(e.text=this._uScore.substr(2,1)),5==t&&(e.text=this._uScore.substr(3,1)),6==t&&(e.text=this._uScore.substr(4,1)),7==t&&(e.text=this._uScore.substr(5,1)),this.scoreText.addChild(e)}}},p.hideSignBtn=function(){this.btnSignUp.visible=!1,this.btnUploadScore.visible=!0},e}(egret.Sprite);egret.registerClass(SuccessGame,"SuccessGame");